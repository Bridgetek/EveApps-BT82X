<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EveApps-BT82X Project: common/eve_hal/EVE_HalImpl_FT4222.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div style="z-index:3; width: 100vw; height: 100px; left: 0px;" > 
  <a href="index.html" ><svg style="z-index:2; height: 80%; width: auto; float: left;"
     xmlns:dc="http://purl.org/dc/elements/1.1/"
     xmlns:cc="http://creativecommons.org/ns#"
     xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:svg="http://www.w3.org/2000/svg"
     xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 704.8667 213.38667"
     height="213.38667"
     width="704.8667"
     xml:space="preserve"
     id="svg2"
     version="1.1">
    <metadata
       id="metadata8">
      <rdf:RDF>
        <cc:Work
           rdf:about="">
          <dc:format>image/svg+xml</dc:format>
          <dc:type
             rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        </cc:Work>
      </rdf:RDF>
    </metadata>
    <defs
       id="defs6" />
    <g
       transform="matrix(1.3333333,0,0,-1.3333333,0,213.38667)"
       id="g10">
      <g
         transform="scale(0.1)"
         id="g12">
        <path
           id="path14"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="M 783.457,192.039 192.074,783.426 c -9.261,9.258 -9.261,24.285 -0.015,33.527 l 591.382,591.377 c 4.664,4.67 10.688,6.99 16.711,7 v 114.7 c -35.582,-0.01 -71.16,-13.46 -98.05,-40.35 L 110.719,898.293 C 56.8047,844.379 56.7734,756.047 110.734,702.086 L 702.117,110.699 C 729.066,83.75 764.609,70.2813 800.152,70.2813 V 185.129 c -6.047,0.012 -12.097,2.32 -16.695,6.91" />
        <path
           id="path16"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="M 791.809,1281.92 318.488,808.598 c -4.621,-4.621 -4.636,-12.168 -0.015,-16.789 l 473.336,-473.34 c 2.296,-2.297 5.32,-3.438 8.343,-3.438 v 970.349 c -3.023,-0.01 -6.043,-1.16 -8.343,-3.46" />
        <path
           id="path18"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="M 179.672,1059.81 81.3398,1158.14 0,1076.8 l 98.332,-98.331 81.34,81.341" />
        <path
           id="path20"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 327.094,1207.23 -98.332,98.33 -81.34,-81.33 98.332,-98.34 81.34,81.34" />
        <path
           id="path22"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 474.516,1354.65 -98.332,98.33 -81.34,-81.34 98.332,-98.32 81.34,81.33" />
        <path
           id="path24"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 621.922,1502.06 -98.332,98.33 -81.324,-81.32 98.332,-98.34 81.324,81.33" />
        <path
           id="path26"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="M 98.3516,621.934 0,523.59 81.3398,442.25 179.691,540.602 98.3516,621.934" />
        <path
           id="path28"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 245.754,474.531 -98.348,-98.351 81.34,-81.34 98.348,98.351 -81.34,81.34" />
        <path
           id="path30"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 393.191,327.09 -98.347,-98.34 81.34,-81.34 98.347,98.34 -81.34,81.34" />
        <path
           id="path32"
           style="fill:#ed1c24;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="M 442.246,81.3398 523.59,0 621.938,98.3516 540.598,179.691 442.246,81.3398" />
        <path
           id="path34"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1264.65,213.852 h 9.29 c 16.51,0 22.19,6.199 22.19,26.828 0,20.64 -5.68,26.57 -22.19,26.57 h -9.29 c -1.04,0 -1.54,-0.52 -1.54,-1.551 v -50.301 c 0,-1.027 0.5,-1.546 1.54,-1.546 z m 9.29,77.128 c 15.22,0 20.37,4.641 20.37,23.989 0,19.351 -5.15,24.25 -20.37,24.25 h -9.29 c -1.04,0 -1.54,-0.52 -1.54,-1.559 v -45.129 c 0,-1.031 0.5,-1.551 1.54,-1.551 z m -38.42,70.68 c 0,1.551 1.01,2.57 2.58,2.57 h 38.41 c 31.48,0 45.41,-14.191 45.41,-45.378 0,-21.672 -7.47,-32.25 -20.36,-37.93 v -0.524 c 13.15,-3.859 22.44,-16.757 22.44,-39.976 0,-38.953 -17.04,-51.582 -51.1,-51.582 h -34.8 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path36"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1482.31,312.129 c 0,20.641 -6.72,27.09 -22.19,27.09 h -9.04 c -1.03,0 -1.54,-0.52 -1.54,-1.559 v -51.058 c 0,-1.043 0.51,-1.551 1.54,-1.551 h 9.04 c 15.47,0 22.19,6.187 22.19,27.078 z m 6.18,-123.289 c -1.54,0 -2.32,0.512 -2.83,1.801 l -21.43,69.91 h -4.36 -8.79 c -1.03,0 -1.54,-0.52 -1.54,-1.551 v -67.59 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -22.44 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25 c 0,1.551 1.01,2.57 2.58,2.57 h 35.34 c 31.19,0 50.03,-13.671 50.03,-52.101 0,-22.957 -7.73,-37.391 -20.91,-44.879 l 24.77,-75.84 c 0.53,-1.289 0,-2.57 -1.29,-2.57 h -23.98" />
        <path
           id="path38"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1610.71,361.66 c 0,1.551 1,2.57 2.57,2.57 h 22.44 c 1.54,0 2.58,-1.019 2.58,-2.57 V 191.41 c 0,-1.539 -1.04,-2.57 -2.58,-2.57 h -22.44 c -1.57,0 -2.57,1.031 -2.57,2.57 v 170.25" />
        <path
           id="path40"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1771.09,213.852 h 11.11 c 9.79,0 15.47,3.878 18.55,12.648 2.07,6.449 3.1,14.949 3.1,50.039 0,35.07 -1.03,43.59 -3.1,50.043 -3.08,8.77 -8.76,12.637 -18.55,12.637 h -11.11 c -1.04,0 -1.54,-0.52 -1.54,-1.559 V 215.398 c 0,-1.027 0.5,-1.546 1.54,-1.546 z m -29.13,147.808 c 0,1.551 1.01,2.57 2.58,2.57 h 40.48 c 22.97,0 36.38,-9.281 42.56,-28.109 3.11,-9.539 4.39,-21.422 4.39,-59.582 0,-38.18 -1.28,-50.039 -4.39,-59.578 -6.18,-18.832 -19.59,-28.121 -42.56,-28.121 h -40.48 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path42"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1929.43,276.539 c 0,48.742 0.78,54.941 3.36,62.68 5.68,17.269 19.86,27.332 41.52,27.332 25.26,0 40.77,-13.403 43.59,-41 0.25,-1.563 -0.78,-2.84 -2.07,-3.09 l -20.87,-3.609 c -1.57,-0.274 -2.6,0.5 -2.86,2.046 -1.28,13.672 -7.21,20.641 -17.54,20.641 -7.47,0 -13.4,-3.879 -15.22,-9.809 -1.54,-4.902 -1.79,-6.949 -1.79,-55.191 0,-48.238 0.25,-50.309 1.79,-55.199 1.82,-5.942 8.25,-9.801 15.47,-9.801 7.5,0 13.94,3.859 15.76,9.801 1.28,4.39 1.79,6.961 1.79,39.461 0,1.039 -0.51,1.551 -1.54,1.551 h -13.69 c -1.53,0 -2.57,1.027 -2.57,2.578 v 19.082 c 0,1.547 1.04,2.59 2.57,2.59 h 39.23 c 1.54,0 2.58,-1.043 2.58,-2.59 v -7.742 c 0,-48.489 -0.79,-54.668 -3.36,-62.418 -5.68,-17.282 -19.87,-27.34 -41.27,-27.34 -21.66,0 -35.84,10.058 -41.52,27.34 -2.58,7.75 -3.36,13.929 -3.36,62.687" />
        <path
           id="path44"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 2118.71,361.66 c 0,1.551 1.01,2.57 2.58,2.57 h 22.44 c 1.54,0 2.57,-1.019 2.57,-2.57 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -22.44 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path46"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 2249.97,361.66 c 0,1.551 1.01,2.57 2.57,2.57 h 27.34 c 2.07,0 3.11,-0.769 3.61,-2.57 L 2316,240.422 h 1.29 V 361.66 c 0,1.551 1.03,2.57 2.57,2.57 h 19.09 c 1.53,0 2.57,-1.019 2.57,-2.57 V 191.41 c 0,-1.539 -1.04,-2.57 -2.57,-2.57 h -25.55 c -2.04,0 -3.08,0.769 -3.61,2.57 l -34.05,121.238 h -1.54 V 191.41 c 0,-1.539 -1.04,-2.57 -2.57,-2.57 h -19.09 c -1.56,0 -2.57,1.031 -2.57,2.57 v 170.25" />
        <path
           id="path48"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 2442.08,276.539 c 0,48.742 0.78,54.941 3.36,62.68 5.68,17.269 19.86,27.332 41.52,27.332 25.27,0 40.77,-13.403 43.59,-41 0.25,-1.563 -0.78,-2.84 -2.07,-3.09 l -20.87,-3.609 c -1.57,-0.274 -2.6,0.5 -2.85,2.046 -1.29,13.672 -7.22,20.641 -17.55,20.641 -7.47,0 -13.4,-3.879 -15.22,-9.809 -1.54,-4.902 -1.79,-6.949 -1.79,-55.191 0,-48.238 0.25,-50.309 1.79,-55.199 1.82,-5.942 8.25,-9.801 15.47,-9.801 7.5,0 13.94,3.859 15.76,9.801 1.28,4.39 1.79,6.961 1.79,39.461 0,1.039 -0.51,1.551 -1.54,1.551 h -13.68 c -1.54,0 -2.58,1.027 -2.58,2.578 v 19.082 c 0,1.547 1.04,2.59 2.58,2.59 h 39.22 c 1.54,0 2.58,-1.043 2.58,-2.59 v -7.742 c 0,-48.489 -0.79,-54.668 -3.36,-62.418 -5.68,-17.282 -19.87,-27.34 -41.27,-27.34 -21.66,0 -35.84,10.058 -41.52,27.34 -2.58,7.75 -3.36,13.929 -3.36,62.687" />
        <path
           id="path50"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3596.01,188.84 c -1.54,0 -2.58,1.031 -2.58,2.57 v 146.25 c 0,1.039 -0.5,1.559 -1.54,1.559 h -26.83 c -1.54,0 -2.57,1.031 -2.57,2.57 v 19.871 c 0,1.551 1.03,2.57 2.57,2.57 h 84.36 c 1.54,0 2.58,-1.019 2.58,-2.57 v -19.871 c 0,-1.539 -1.04,-2.57 -2.58,-2.57 h -26.83 c -1.04,0 -1.54,-0.52 -1.54,-1.559 V 191.41 c 0,-1.539 -1.04,-2.57 -2.57,-2.57 h -22.47" />
        <path
           id="path52"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3745.59,361.66 c 0,1.551 1.01,2.57 2.57,2.57 h 71.97 c 1.54,0 2.57,-1.019 2.57,-2.57 v -19.871 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -45.41 c -1.04,0 -1.54,-0.52 -1.54,-1.559 V 291.5 c 0,-1.039 0.5,-1.559 1.54,-1.559 h 39.22 c 1.54,0 2.58,-1.019 2.58,-2.57 V 267.5 c 0,-1.539 -1.04,-2.57 -2.58,-2.57 h -39.22 c -1.04,0 -1.54,-0.52 -1.54,-1.551 v -47.981 c 0,-1.027 0.5,-1.546 1.54,-1.546 h 45.41 c 1.54,0 2.57,-1.02 2.57,-2.571 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -71.97 c -1.56,0 -2.57,1.031 -2.57,2.57 v 170.25" />
        <path
           id="path54"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3917.05,276.539 c 0,48.742 1.04,55.973 3.36,63.191 5.4,16.758 18.3,26.821 39.73,26.821 25.01,0 40.74,-12.879 42.28,-42.039 0.28,-1.551 -0.25,-2.84 -1.79,-3.09 l -20.9,-3.613 c -1.54,-0.27 -2.83,0.523 -2.83,2.32 -0.78,14.961 -5.93,21.41 -16,21.41 -7.73,0 -11.87,-3.359 -13.94,-9.809 -1.29,-4.128 -1.79,-7.742 -1.79,-55.191 0,-47.469 0.5,-51.078 1.79,-55.199 2.07,-6.449 6.21,-9.801 13.94,-9.801 10.07,0 15.22,6.441 16,21.41 0,1.801 1.29,2.571 2.83,2.321 l 20.9,-3.61 c 1.54,-0.269 2.07,-1.551 1.79,-3.109 -1.54,-29.141 -17.27,-42.039 -42.28,-42.039 -21.43,0 -34.33,10.058 -39.73,26.84 -2.32,7.218 -3.36,14.429 -3.36,63.187" />
        <path
           id="path56"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4096.29,361.66 c 0,1.551 1.01,2.57 2.58,2.57 h 22.44 c 1.53,0 2.57,-1.019 2.57,-2.57 v -69.129 c 0,-1.031 0.5,-1.551 1.54,-1.551 h 29.66 c 1.03,0 1.56,0.52 1.56,1.551 v 69.129 c 0,1.551 1.04,2.57 2.58,2.57 h 22.44 c 1.54,0 2.57,-1.019 2.57,-2.57 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -22.44 c -1.54,0 -2.58,1.031 -2.58,2.57 v 73 c 0,1.039 -0.53,1.551 -1.56,1.551 h -29.66 c -1.04,0 -1.54,-0.512 -1.54,-1.551 v -73 c 0,-1.539 -1.04,-2.57 -2.57,-2.57 h -22.44 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path58"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4287.87,361.66 c 0,1.551 1.01,2.57 2.58,2.57 h 27.33 c 2.07,0 3.11,-0.769 3.61,-2.57 l 32.51,-121.238 h 1.29 V 361.66 c 0,1.551 1.04,2.57 2.58,2.57 h 19.08 c 1.54,0 2.57,-1.019 2.57,-2.57 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -25.55 c -2.04,0 -3.08,0.769 -3.61,2.57 l -34.05,121.238 h -1.54 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -19.08 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path60"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4539.55,221.34 c 1.57,4.89 1.82,6.961 1.82,55.199 0,48.242 -0.25,50.289 -1.82,55.191 -1.79,5.93 -7.47,9.809 -14.69,9.809 -7.47,0 -13.15,-3.879 -14.97,-9.809 -1.54,-4.902 -1.79,-6.949 -1.79,-55.191 0,-48.238 0.25,-50.309 1.79,-55.199 1.82,-5.942 7.5,-9.801 14.97,-9.801 7.22,0 12.9,3.859 14.69,9.801 z m -56.21,-7.488 c -2.57,7.75 -3.36,13.929 -3.36,62.687 0,48.742 0.79,54.941 3.36,62.68 5.68,17.269 19.87,27.332 41.52,27.332 21.41,0 35.59,-10.063 41.27,-27.332 2.58,-7.739 3.36,-13.938 3.36,-62.68 0,-48.758 -0.78,-54.937 -3.36,-62.687 -5.68,-17.282 -19.86,-27.34 -41.27,-27.34 -21.65,0 -35.84,10.058 -41.52,27.34" />
        <path
           id="path62"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4670.05,361.66 c 0,1.551 1.01,2.57 2.58,2.57 h 22.44 c 1.53,0 2.57,-1.019 2.57,-2.57 V 215.398 c 0,-1.027 0.5,-1.546 1.54,-1.546 h 45.41 c 1.54,0 2.57,-1.02 2.57,-2.571 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -71.96 c -1.57,0 -2.58,1.031 -2.58,2.57 v 170.25" />
        <path
           id="path64"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4892.6,221.34 c 1.54,4.89 1.8,6.961 1.8,55.199 0,48.242 -0.26,50.289 -1.8,55.191 -1.81,5.93 -7.49,9.809 -14.71,9.809 -7.47,0 -13.15,-3.879 -14.97,-9.809 -1.54,-4.902 -1.79,-6.949 -1.79,-55.191 0,-48.238 0.25,-50.309 1.79,-55.199 1.82,-5.942 7.5,-9.801 14.97,-9.801 7.22,0 12.9,3.859 14.71,9.801 z m -56.23,-7.488 c -2.58,7.75 -3.36,13.929 -3.36,62.687 0,48.742 0.78,54.941 3.36,62.68 5.67,17.269 19.86,27.332 41.52,27.332 21.4,0 35.59,-10.063 41.27,-27.332 2.57,-7.739 3.36,-13.938 3.36,-62.68 0,-48.758 -0.79,-54.937 -3.36,-62.687 -5.68,-17.282 -19.87,-27.34 -41.27,-27.34 -21.66,0 -35.85,10.058 -41.52,27.34" />
        <path
           id="path66"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 5019.97,276.539 c 0,48.742 0.78,54.941 3.36,62.68 5.68,17.269 19.86,27.332 41.52,27.332 25.27,0 40.77,-13.403 43.59,-41 0.26,-1.563 -0.78,-2.84 -2.07,-3.09 l -20.87,-3.609 c -1.57,-0.274 -2.6,0.5 -2.85,2.046 -1.29,13.672 -7.22,20.641 -17.55,20.641 -7.47,0 -13.4,-3.879 -15.22,-9.809 -1.54,-4.902 -1.79,-6.949 -1.79,-55.191 0,-48.238 0.25,-50.309 1.79,-55.199 1.82,-5.942 8.26,-9.801 15.47,-9.801 7.5,0 13.94,3.859 15.76,9.801 1.28,4.39 1.79,6.961 1.79,39.461 0,1.039 -0.51,1.551 -1.54,1.551 h -13.68 c -1.54,0 -2.58,1.027 -2.58,2.578 v 19.082 c 0,1.547 1.04,2.59 2.58,2.59 h 39.22 c 1.54,0 2.58,-1.043 2.58,-2.59 v -7.742 c 0,-48.489 -0.78,-54.668 -3.36,-62.418 -5.68,-17.282 -19.86,-27.34 -41.27,-27.34 -21.66,0 -35.84,10.058 -41.52,27.34 -2.58,7.75 -3.36,13.929 -3.36,62.687" />
        <path
           id="path68"
           style="fill:#231f20;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 5227.81,188.84 c -1.57,0 -2.58,1.031 -2.58,2.57 v 69.391 l -33.55,100.859 c -0.5,1.551 0,2.57 2.07,2.57 h 22.7 c 1.82,0 2.57,-0.769 3.1,-2.57 l 19.59,-67.84 h 0.78 l 19.08,67.84 c 0.54,1.801 1.29,2.57 3.11,2.57 h 22.19 c 2.04,0 2.57,-1.019 2.04,-2.57 L 5252.82,260.801 V 191.41 c 0,-1.539 -1.03,-2.57 -2.57,-2.57 h -22.44" />
        <path
           id="path70"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1413.48,632.223 h 53.35 c 44.63,0 55.52,13.054 55.52,72.929 v 58.786 c 0,58.789 -13.07,71.855 -55.52,71.855 h -53.35 z m 0,332.027 h 43.56 c 52.24,0 58.76,17.418 58.76,69.67 v 47.89 c 0,51.16 -6.52,68.59 -58.76,68.59 h -43.56 z m -180.7,321.13 h 266.71 c 156.74,0 197.03,-32.66 197.03,-190.5 0,-103.419 -7.61,-168.739 -117.57,-187.247 v -2.168 c 112.12,-8.719 130.64,-88.184 130.64,-183.985 0,-165.46 -38.11,-224.25 -180.72,-224.25 h -296.09 v 788.15" />
        <path
           id="path72"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 1809.81,1052.41 h 154.57 v -55.508 h 2.18 c 21.77,51.158 47.9,64.228 109.96,64.228 57.69,0 93.62,-14.16 94.68,-82.735 V 828.168 h -134.97 v 82.738 c 0,17.414 -15.25,21.766 -32.65,21.766 -18.53,0 -32.66,-6.531 -32.66,-29.391 V 497.23 h -161.11 v 555.18" />
        <path
           id="path74"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 2233.32,1052.41 h 161.11 V 497.23 h -161.11 z m 0,232.97 h 161.11 v -128.46 h -161.11 v 128.46" />
        <path
           id="path76"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 2664.41,647.457 c 0,-20.676 13.07,-30.484 37.02,-30.484 23.95,0 37.02,9.808 37.02,30.484 v 254.731 c 0,20.691 -13.07,30.484 -37.02,30.484 -23.95,0 -37.02,-9.793 -37.02,-30.484 z M 2496.78,949 c 0,86 52.24,112.13 120.82,112.13 57.69,0 92.53,-20.69 118.66,-57.7 h 2.19 v 281.95 h 161.1 V 497.23 h -153.49 v 57.7 h -2.19 c -31.56,-57.7 -59.87,-66.399 -117.57,-66.399 -97.96,0 -129.52,38.098 -129.52,151.305 V 949" />
        <path
           id="path78"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3163.07,640.926 c 0,-23.953 10.89,-32.653 40.26,-32.653 29.41,0 40.3,8.7 40.3,32.653 v 265.629 c 0,23.937 -10.89,32.652 -40.3,32.652 -29.37,0 -40.26,-8.715 -40.26,-32.652 z m -161.11,274.332 c 0,95.802 42.45,145.872 117.55,145.872 63.15,0 99.07,-13.07 133.91,-59.88 h 2.18 v 51.16 h 149.14 V 448.238 c 0,-126.269 -70.77,-155.668 -217.72,-155.668 -127.36,0 -167.65,50.09 -167.65,123.02 v 29.39 h 141.52 V 433 c 0,-17.41 11.97,-25.039 41.35,-25.039 29.41,0 41.39,7.629 41.39,37.019 v 99.059 h -2.19 c -25.04,-33.738 -62.06,-51.16 -109.96,-51.16 -101.23,0 -129.52,62.051 -129.52,136.07 v 286.309" />
        <path
           id="path80"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3663.89,837.961 h 89.25 v 81.644 c 0,22.86 -7.61,32.668 -44.62,32.668 -37.02,0 -44.63,-9.808 -44.63,-32.668 z m -167.63,46.809 c 0,149.15 74.01,176.36 212.26,176.36 176.35,0 212.28,-66.411 212.28,-153.497 V 735.637 h -256.91 v -93.621 c 0,-29.395 6.54,-38.094 47.9,-38.094 31.56,0 45.72,6.519 45.72,39.183 v 26.122 h 163.29 v -31.563 c 0,-116.484 -48.99,-149.133 -212.28,-149.133 -138.25,0 -212.26,27.207 -212.26,176.344 V 884.77" />
        <path
           id="path82"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 3986.19,1052.41 h 45.72 v 144.79 h 161.11 v -144.79 h 93.62 V 930.492 h -93.62 V 652.898 c 0,-28.3 6.52,-42.457 41.35,-42.457 14.16,0 28.32,2.18 41.39,3.274 V 492.879 c -30.47,-1.09 -68.58,-4.348 -102.33,-4.348 -97.98,0 -141.52,37 -141.52,121.91 v 320.051 h -45.72 v 121.918" />
        <path
           id="path84"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4512.02,837.961 h 89.26 v 81.644 c 0,22.86 -7.61,32.668 -44.63,32.668 -37.02,0 -44.63,-9.808 -44.63,-32.668 z m -167.63,46.809 c 0,149.15 74.01,176.36 212.26,176.36 176.36,0 212.28,-66.411 212.28,-153.497 V 735.637 h -256.91 v -93.621 c 0,-29.395 6.55,-38.094 47.9,-38.094 31.56,0 45.72,6.519 45.72,39.183 v 26.122 h 163.29 v -31.563 c 0,-116.484 -48.99,-149.133 -212.28,-149.133 -138.25,0 -212.26,27.207 -212.26,176.344 V 884.77" />
        <path
           id="path86"
           style="fill:#0A25F3;fill-opacity:1;fill-rule:nonzero;stroke:none"
           d="m 4860.46,1285.38 h 161.11 V 848.844 h 2.18 l 72.91,203.566 h 158.96 L 5172.88,808.566 5281.72,497.23 h -171.99 l -85.98,274.333 h -2.18 V 497.23 h -161.11 v 788.15" />
      </g>
    </g>
  </svg></a>
  </br>
  <div style="float: left; height: 100%;">  
    <div style="float: left; margin-left: 50px; font-family: 'Fugaz One', cursive;overflow: hidden; font-size: 20px;">
    Brteve's API for EveApps-BT82X
    </div>  
    <div style="padding-top:10px; float: left; margin-left: 50px; font-family: 'Fugaz One', cursive;overflow: hidden; font-size: 12px;">
    Version 0.0.1
    </div>
    <div style="padding-top:10px; clear: both; margin-left: 50px; font-size: 14px;">
    This folder contains the necessary files to use Eve device.</br>
    </div>
  </div>
</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect" class="search-icon" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()"><span class="search-icon-dropdown"></span></span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><div id="MSearchCloseImg" class="close-icon"></div></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('a00074.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">EVE_HalImpl_FT4222.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Eve_Hal framework APIs for FT4222 host platform.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="a00071_source.html">EVE_HalImpl.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for EVE_HalImpl_FT4222.c:</div>
<div class="dyncontent">
<div class="center"><img src="a00075.png" border="0" usemap="#acommon_2eve__hal_2_e_v_e___hal_impl___f_t4222_8c" loading="lazy" alt=""/></div>
<map name="acommon_2eve__hal_2_e_v_e___hal_impl___f_t4222_8c" id="acommon_2eve__hal_2_e_v_e___hal_impl___f_t4222_8c">
<area shape="rect" title="Eve_Hal framework APIs for FT4222 host platform." alt="" coords="901,5,1053,48"/>
<area shape="rect" href="a00071.html" title="Eve_Hal framework APIs." alt="" coords="921,96,1033,123"/>
<area shape="poly" title=" " alt="" coords="980,49,980,80,974,80,974,49"/>
<area shape="rect" href="a00101.html" title="Platform selector." alt="" coords="850,171,965,197"/>
<area shape="poly" title=" " alt="" coords="967,125,932,161,928,157,963,121"/>
<area shape="rect" href="a00068.html" title="Eve_Hal framework APIs." alt="" coords="989,171,1104,197"/>
<area shape="poly" title=" " alt="" coords="991,121,1026,157,1022,161,987,125"/>
<area shape="rect" href="a00050.html" title="This file processes the input definitions." alt="" coords="976,320,1080,347"/>
<area shape="poly" title=" " alt="" coords="915,196,930,231,955,270,975,291,997,309,994,313,972,295,951,274,926,234,910,199"/>
<area shape="rect" href="a00104.html" title="EVE platform for FT4222." alt="" coords="724,245,891,272"/>
<area shape="poly" title=" " alt="" coords="892,200,839,238,836,234,889,196"/>
<area shape="rect" href="a00083.html" title="Eve_Hal framework APIs." alt="" coords="970,395,1086,421"/>
<area shape="poly" title=" " alt="" coords="1030,347,1030,379,1025,379,1025,347"/>
<area shape="rect" title=" " alt="" coords="1180,469,1248,496"/>
<area shape="poly" title=" " alt="" coords="1061,419,1168,461,1167,466,1059,424"/>
<area shape="rect" title=" " alt="" coords="902,469,969,496"/>
<area shape="poly" title=" " alt="" coords="1013,424,965,462,962,458,1010,420"/>
<area shape="rect" title=" " alt="" coords="993,469,1057,496"/>
<area shape="poly" title=" " alt="" coords="1030,422,1029,454,1023,454,1025,422"/>
<area shape="rect" title=" " alt="" coords="1081,469,1156,496"/>
<area shape="poly" title=" " alt="" coords="1045,420,1093,458,1089,462,1042,424"/>
<area shape="rect" href="a00110.html" title="EVE platform for WIN32." alt="" coords="351,320,515,347"/>
<area shape="poly" title=" " alt="" coords="742,275,514,319,513,314,741,270"/>
<area shape="rect" href="a00119.html" title=" " alt="" coords="788,395,856,421"/>
<area shape="poly" title=" " alt="" coords="812,272,822,379,817,379,806,273"/>
<area shape="rect" href="a00122.html" title=" " alt="" coords="845,320,938,347"/>
<area shape="poly" title=" " alt="" coords="824,271,867,308,864,312,821,275"/>
<area shape="rect" title=" " alt="" coords="594,395,680,421"/>
<area shape="poly" title=" " alt="" coords="469,345,588,386,586,391,468,350"/>
<area shape="rect" title=" " alt="" coords="704,395,764,421"/>
<area shape="poly" title=" " alt="" coords="491,345,690,391,688,397,490,350"/>
<area shape="rect" title=" " alt="" coords="5,395,69,421"/>
<area shape="poly" title=" " alt="" coords="351,349,229,368,84,397,83,391,228,363,350,343"/>
<area shape="rect" title=" " alt="" coords="92,395,160,421"/>
<area shape="poly" title=" " alt="" coords="377,350,176,397,175,391,376,345"/>
<area shape="rect" title=" " alt="" coords="185,395,249,421"/>
<area shape="poly" title=" " alt="" coords="396,350,265,394,263,389,395,345"/>
<area shape="rect" title=" " alt="" coords="273,395,334,421"/>
<area shape="poly" title=" " alt="" coords="412,350,341,389,338,384,409,345"/>
<area shape="rect" title=" " alt="" coords="358,395,422,421"/>
<area shape="poly" title=" " alt="" coords="428,349,408,383,403,380,423,346"/>
<area shape="rect" title=" " alt="" coords="447,395,504,421"/>
<area shape="poly" title=" " alt="" coords="443,346,463,380,458,383,438,349"/>
<area shape="rect" title=" " alt="" coords="528,395,570,421"/>
<area shape="poly" title=" " alt="" coords="455,345,517,384,514,388,452,349"/>
<area shape="rect" title=" " alt="" coords="790,469,873,496"/>
<area shape="poly" title=" " alt="" coords="827,422,831,454,825,454,821,422"/>
<area shape="poly" title=" " alt="" coords="882,349,847,385,843,381,878,345"/>
<area shape="poly" title=" " alt="" coords="892,347,885,382,871,422,852,458,847,455,867,420,880,380,887,346"/>
<area shape="rect" href="a00056.html" title="Defines EVE hardware values." alt="" coords="965,245,1090,272"/>
<area shape="poly" title=" " alt="" coords="1046,199,1037,231,1032,229,1041,197"/>
<area shape="rect" href="a00053.html" title="Defines EVE hardware values." alt="" coords="1114,245,1232,272"/>
<area shape="poly" title=" " alt="" coords="1070,196,1139,235,1136,240,1067,200"/>
<area shape="poly" title=" " alt="" coords="1030,273,1030,304,1025,304,1025,273"/>
<area shape="poly" title=" " alt="" coords="1149,275,1068,315,1065,310,1147,270"/>
</map>
</div>
</div>
<p><a href="a00074_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a738c4bc8c8e44d0effa10f2db12b303c" id="r_a738c4bc8c8e44d0effa10f2db12b303c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a738c4bc8c8e44d0effa10f2db12b303c">FT4222_TRANSFER_SIZE_MAX</a>&#160;&#160;&#160;(0xFFFF)</td></tr>
<tr class="memitem:a08c73bb9ced2e87d06bc370e4b7f8a79" id="r_a08c73bb9ced2e87d06bc370e4b7f8a79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>&#160;&#160;&#160;(4)</td></tr>
<tr class="memitem:a669679c3538c836690cfb93ed624844c" id="r_a669679c3538c836690cfb93ed624844c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a669679c3538c836690cfb93ed624844c">FT4222_WRITE_SIZE_MAX</a>&#160;&#160;&#160;(<a class="el" href="#a738c4bc8c8e44d0effa10f2db12b303c">FT4222_TRANSFER_SIZE_MAX</a> - <a class="el" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>)</td></tr>
<tr class="memitem:a8da367977a942d4de7d6f9d4da5f5540" id="r_a8da367977a942d4de7d6f9d4da5f5540"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8da367977a942d4de7d6f9d4da5f5540">FT4222_READ_TIMEOUT</a>&#160;&#160;&#160;(5000)</td></tr>
<tr class="memitem:ac1acb56a5d8f6bf794989e9aaf9d23b2" id="r_ac1acb56a5d8f6bf794989e9aaf9d23b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1acb56a5d8f6bf794989e9aaf9d23b2">FT4222_WRITE_TIMEOUT</a>&#160;&#160;&#160;(5000)</td></tr>
<tr class="memitem:a9786353869ed518e3f3fb8e9c2a113f6" id="r_a9786353869ed518e3f3fb8e9c2a113f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9786353869ed518e3f3fb8e9c2a113f6">FT4222_LATENCY_TIME</a>&#160;&#160;&#160;(2)</td></tr>
<tr class="memitem:af3b765afccbc15936a8e9cf1ab688041" id="r_af3b765afccbc15936a8e9cf1ab688041"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3b765afccbc15936a8e9cf1ab688041">POLLING_BYTES</a>&#160;&#160;&#160;8</td></tr>
<tr class="memitem:a18e13c9ac88403c42395bb0af487eb2d" id="r_a18e13c9ac88403c42395bb0af487eb2d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18e13c9ac88403c42395bb0af487eb2d">READ_TIMEOUT</a>&#160;&#160;&#160;5</td></tr>
<tr class="memitem:af0113b8a0d65aab384607436aa155838" id="r_af0113b8a0d65aab384607436aa155838"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0113b8a0d65aab384607436aa155838">DATA_LENGTH</a>&#160;&#160;&#160;1024</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr id="func-members-0" class="groupHeader"><td colspan="2"><div class="groupHeader">INIT</div></td></tr>
<tr class="memitem:aaba90ac16916676c4b4d6e833899af17" id="r_aaba90ac16916676c4b4d6e833899af17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaba90ac16916676c4b4d6e833899af17">EVE_HalImpl_initialize</a> ()</td></tr>
<tr class="memdesc:aaba90ac16916676c4b4d6e833899af17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize HAL platform.  <br /></td></tr>
<tr class="memitem:ae167875136ce557df5079224aaac3e5d" id="r_ae167875136ce557df5079224aaac3e5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae167875136ce557df5079224aaac3e5d">EVE_HalImpl_release</a> ()</td></tr>
<tr class="memdesc:ae167875136ce557df5079224aaac3e5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release HAL platform.  <br /></td></tr>
<tr class="memitem:ac8386b43bb5a25e8b9913905aac30f6e" id="r_ac8386b43bb5a25e8b9913905aac30f6e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8386b43bb5a25e8b9913905aac30f6e">EVE_Hal_list</a> ()</td></tr>
<tr class="memdesc:ac8386b43bb5a25e8b9913905aac30f6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">List the available devices.  <br /></td></tr>
<tr class="memitem:a5841adf062ce90f542b984f426e8970a" id="r_a5841adf062ce90f542b984f426e8970a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5841adf062ce90f542b984f426e8970a">EVE_HalImpl_defaults</a> (<a class="el" href="a00194.html">EVE_HalParameters</a> *parameters, size_t deviceIdx)</td></tr>
<tr class="memdesc:a5841adf062ce90f542b984f426e8970a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the default configuration parameters.  <br /></td></tr>
<tr class="memitem:a61de392e64229997e88b7336ec18bfab" id="r_a61de392e64229997e88b7336ec18bfab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61de392e64229997e88b7336ec18bfab">computeCLK</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, <a class="el" href="a00122.html#a58445dd09558817c0d5065de9cd41472">FT4222_ClockRate</a> *sysclk, <a class="el" href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5e">FT4222_SPIClock</a> *sysdivisor, const <a class="el" href="a00194.html">EVE_HalParameters</a> *parameters)</td></tr>
<tr class="memdesc:a61de392e64229997e88b7336ec18bfab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the system clock and SPI clock.  <br /></td></tr>
<tr class="memitem:a1c21f1e18893c3adfa310195e7624120" id="r_a1c21f1e18893c3adfa310195e7624120"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c21f1e18893c3adfa310195e7624120">EVE_HalImpl_open</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, const <a class="el" href="a00194.html">EVE_HalParameters</a> *parameters)</td></tr>
<tr class="memdesc:a1c21f1e18893c3adfa310195e7624120"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a new HAL context using the specified parameters.  <br /></td></tr>
<tr class="memitem:a78d04e23ea4be3cafefc66e527a4773a" id="r_a78d04e23ea4be3cafefc66e527a4773a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78d04e23ea4be3cafefc66e527a4773a">EVE_HalImpl_close</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost)</td></tr>
<tr class="memdesc:a78d04e23ea4be3cafefc66e527a4773a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a HAL context.  <br /></td></tr>
<tr class="memitem:ad5cf27d92943249c6d17cc2c6dba9613" id="r_ad5cf27d92943249c6d17cc2c6dba9613"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5cf27d92943249c6d17cc2c6dba9613">EVE_HalImpl_idle</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost)</td></tr>
<tr class="memdesc:ad5cf27d92943249c6d17cc2c6dba9613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Idle. Call regularly to update frequently changing internal state.  <br /></td></tr>
<tr id="func-members-1" class="groupHeader"><td colspan="2"><div class="groupHeader">TRANSFER</div></td></tr>
<tr class="memitem:afb74cba236df2fd69448d11f4e02d024" id="r_afb74cba236df2fd69448d11f4e02d024"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb74cba236df2fd69448d11f4e02d024">flush</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost)</td></tr>
<tr class="memdesc:afb74cba236df2fd69448d11f4e02d024"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush data to Coprocessor.  <br /></td></tr>
<tr class="memitem:a5ce4c3c0101e945f306d5dae105988ae" id="r_a5ce4c3c0101e945f306d5dae105988ae"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ce4c3c0101e945f306d5dae105988ae">incrementRamGAddr</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, <a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> addr, <a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> inc)</td></tr>
<tr class="memdesc:a5ce4c3c0101e945f306d5dae105988ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase RAM_G adress.  <br /></td></tr>
<tr class="memitem:a50b31366af31487a35d8c3b8dbb542ce" id="r_a50b31366af31487a35d8c3b8dbb542ce"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50b31366af31487a35d8c3b8dbb542ce">rdBuffer</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, <a class="el" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *buffer, <a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> size)</td></tr>
<tr class="memdesc:a50b31366af31487a35d8c3b8dbb542ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a block data from Coprocessor.  <br /></td></tr>
<tr class="memitem:a323ac93b2c405f79e30fd3a9c0864977" id="r_a323ac93b2c405f79e30fd3a9c0864977"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a323ac93b2c405f79e30fd3a9c0864977">wrBuffer</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, const <a class="el" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *buffer, <a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> size)</td></tr>
<tr class="memdesc:a323ac93b2c405f79e30fd3a9c0864977"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a block data to Coprocessor.  <br /></td></tr>
<tr class="memitem:a9ce48cbe05ee203513f69ec2493b282f" id="r_a9ce48cbe05ee203513f69ec2493b282f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ce48cbe05ee203513f69ec2493b282f">EVE_Hal_startTransfer</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, <a class="el" href="a00068.html#a427d04762f17f5f228ec5669d0448ef6">EVE_TRANSFER_T</a> rw, <a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> addr)</td></tr>
<tr class="memdesc:a9ce48cbe05ee203513f69ec2493b282f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start data transfer to Coprocessor.  <br /></td></tr>
<tr class="memitem:a95f66e9e6a58d727643552ee09ff8e53" id="r_a95f66e9e6a58d727643552ee09ff8e53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95f66e9e6a58d727643552ee09ff8e53">EVE_Hal_endTransfer</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost)</td></tr>
<tr class="memdesc:a95f66e9e6a58d727643552ee09ff8e53"><td class="mdescLeft">&#160;</td><td class="mdescRight">End data transfer.  <br /></td></tr>
<tr class="memitem:aad5c7388c3f1344cb315e6d1d9bcd1dd" id="r_aad5c7388c3f1344cb315e6d1d9bcd1dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad5c7388c3f1344cb315e6d1d9bcd1dd">EVE_Hal_flush</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost)</td></tr>
<tr class="memdesc:aad5c7388c3f1344cb315e6d1d9bcd1dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush data to Coprocessor.  <br /></td></tr>
<tr class="memitem:afbb284fc468b20bf6dc91b255188e93d" id="r_afbb284fc468b20bf6dc91b255188e93d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbb284fc468b20bf6dc91b255188e93d">EVE_Hal_transfer32</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, <a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> value)</td></tr>
<tr class="memdesc:afbb284fc468b20bf6dc91b255188e93d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write 4 bytes to Coprocessor.  <br /></td></tr>
<tr class="memitem:a989304d649fbe1713d5dc879cbf97925" id="r_a989304d649fbe1713d5dc879cbf97925"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a989304d649fbe1713d5dc879cbf97925">EVE_Hal_transferMem</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, <a class="el" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *result, const <a class="el" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *buffer, <a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> size)</td></tr>
<tr class="memdesc:a989304d649fbe1713d5dc879cbf97925"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer (read/write) a block data to Coprocessor.  <br /></td></tr>
<tr class="memitem:a186a150494cae74e2b146c7a23e409e4" id="r_a186a150494cae74e2b146c7a23e409e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a186a150494cae74e2b146c7a23e409e4">EVE_Hal_transferString</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, const char *str, <a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> index, <a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> size, <a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> padMask)</td></tr>
<tr class="memdesc:a186a150494cae74e2b146c7a23e409e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer a string to EVE platform.  <br /></td></tr>
<tr id="func-members-2" class="groupHeader"><td colspan="2"><div class="groupHeader">UTILITY</div></td></tr>
<tr class="memitem:ada3e1039718c59cc642229bc54ad45ca" id="r_ada3e1039718c59cc642229bc54ad45ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada3e1039718c59cc642229bc54ad45ca">EVE_Hal_spiCommand</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, <a class="el" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *cmd)</td></tr>
<tr class="memdesc:ada3e1039718c59cc642229bc54ad45ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API sends a 5byte command to the phost.  <br /></td></tr>
<tr class="memitem:aaa31fb8a051f41ddf826beb1be8c2cec" id="r_aaa31fb8a051f41ddf826beb1be8c2cec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa31fb8a051f41ddf826beb1be8c2cec">setSPI</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, <a class="el" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1">EVE_SPI_CHANNELS_T</a> numchnls)</td></tr>
<tr class="memdesc:aaa31fb8a051f41ddf826beb1be8c2cec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set number of SPI channel.  <br /></td></tr>
<tr class="memitem:aa41d2ff6e5001c07224750edda0335e7" id="r_aa41d2ff6e5001c07224750edda0335e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa41d2ff6e5001c07224750edda0335e7">EVE_Hal_powerCycle</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, <a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a> up)</td></tr>
<tr class="memdesc:aa41d2ff6e5001c07224750edda0335e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggle PD_N pin of BT820 board for a power cycle.  <br /></td></tr>
<tr class="memitem:aea3fd8baa6dec6b82b5e1ffc259a2846" id="r_aea3fd8baa6dec6b82b5e1ffc259a2846"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea3fd8baa6dec6b82b5e1ffc259a2846">EVE_Hal_setSPI</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost, <a class="el" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1">EVE_SPI_CHANNELS_T</a> numchnls)</td></tr>
<tr class="memdesc:aea3fd8baa6dec6b82b5e1ffc259a2846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set number of SPI channel.  <br /></td></tr>
<tr class="memitem:a64f52b40dac1083cf21c476be253b314" id="r_a64f52b40dac1083cf21c476be253b314"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64f52b40dac1083cf21c476be253b314">EVE_Hal_restoreSPI</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost)</td></tr>
<tr class="memdesc:a64f52b40dac1083cf21c476be253b314"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore platform to previously configured EVE SPI channel mode.  <br /></td></tr>
<tr class="memitem:a97b04ff2da02778339ed9e8bf1b62feb" id="r_a97b04ff2da02778339ed9e8bf1b62feb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97b04ff2da02778339ed9e8bf1b62feb">EVE_Hal_getInterrupt</a> (<a class="el" href="a00198.html">EVE_HalContext</a> *phost)</td></tr>
<tr class="memdesc:a97b04ff2da02778339ed9e8bf1b62feb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get interrupt status.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9b2e046e3c9a655e83cee86a84f145ea" id="r_a9b2e046e3c9a655e83cee86a84f145ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00128.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b2e046e3c9a655e83cee86a84f145ea">s_NumDevsD2XX</a></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Eve_Hal framework APIs for FT4222 host platform. </p>
<dl class="section author"><dt>Author</dt><dd>Bridgetek</dd></dl>
<dl class="section date"><dt>Date</dt><dd>2024</dd></dl>
<p>MIT License</p>
<p>Copyright (c) [2024] [Bridgetek Pte Ltd (BRTChip)]</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>

<p class="definition">Definition in file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="af0113b8a0d65aab384607436aa155838" name="af0113b8a0d65aab384607436aa155838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0113b8a0d65aab384607436aa155838">&#9670;&#160;</a></span>DATA_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DATA_LENGTH&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00046">46</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>

</div>
</div>
<a id="a9786353869ed518e3f3fb8e9c2a113f6" name="a9786353869ed518e3f3fb8e9c2a113f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9786353869ed518e3f3fb8e9c2a113f6">&#9670;&#160;</a></span>FT4222_LATENCY_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FT4222_LATENCY_TIME&#160;&#160;&#160;(2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00042">42</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>

</div>
</div>
<a id="a8da367977a942d4de7d6f9d4da5f5540" name="a8da367977a942d4de7d6f9d4da5f5540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8da367977a942d4de7d6f9d4da5f5540">&#9670;&#160;</a></span>FT4222_READ_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FT4222_READ_TIMEOUT&#160;&#160;&#160;(5000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00039">39</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>

</div>
</div>
<a id="a738c4bc8c8e44d0effa10f2db12b303c" name="a738c4bc8c8e44d0effa10f2db12b303c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a738c4bc8c8e44d0effa10f2db12b303c">&#9670;&#160;</a></span>FT4222_TRANSFER_SIZE_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FT4222_TRANSFER_SIZE_MAX&#160;&#160;&#160;(0xFFFF)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00035">35</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>

</div>
</div>
<a id="a08c73bb9ced2e87d06bc370e4b7f8a79" name="a08c73bb9ced2e87d06bc370e4b7f8a79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c73bb9ced2e87d06bc370e4b7f8a79">&#9670;&#160;</a></span>FT4222_WRITE_HEADER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FT4222_WRITE_HEADER_SIZE&#160;&#160;&#160;(4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00036">36</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>

</div>
</div>
<a id="a669679c3538c836690cfb93ed624844c" name="a669679c3538c836690cfb93ed624844c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a669679c3538c836690cfb93ed624844c">&#9670;&#160;</a></span>FT4222_WRITE_SIZE_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FT4222_WRITE_SIZE_MAX&#160;&#160;&#160;(<a class="el" href="#a738c4bc8c8e44d0effa10f2db12b303c">FT4222_TRANSFER_SIZE_MAX</a> - <a class="el" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00037">37</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>

</div>
</div>
<a id="ac1acb56a5d8f6bf794989e9aaf9d23b2" name="ac1acb56a5d8f6bf794989e9aaf9d23b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1acb56a5d8f6bf794989e9aaf9d23b2">&#9670;&#160;</a></span>FT4222_WRITE_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FT4222_WRITE_TIMEOUT&#160;&#160;&#160;(5000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00040">40</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>

</div>
</div>
<a id="af3b765afccbc15936a8e9cf1ab688041" name="af3b765afccbc15936a8e9cf1ab688041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3b765afccbc15936a8e9cf1ab688041">&#9670;&#160;</a></span>POLLING_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POLLING_BYTES&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00044">44</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>

</div>
</div>
<a id="a18e13c9ac88403c42395bb0af487eb2d" name="a18e13c9ac88403c42395bb0af487eb2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18e13c9ac88403c42395bb0af487eb2d">&#9670;&#160;</a></span>READ_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_TIMEOUT&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00045">45</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a61de392e64229997e88b7336ec18bfab" name="a61de392e64229997e88b7336ec18bfab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61de392e64229997e88b7336ec18bfab">&#9670;&#160;</a></span>computeCLK()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a> computeCLK </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00122.html#a58445dd09558817c0d5065de9cd41472">FT4222_ClockRate</a> *</td>          <td class="paramname"><span class="paramname"><em>sysclk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5e">FT4222_SPIClock</a> *</td>          <td class="paramname"><span class="paramname"><em>sysdivisor</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00194.html">EVE_HalParameters</a> *</td>          <td class="paramname"><span class="paramname"><em>parameters</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the system clock and SPI clock. </p>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
<h2 class="doxsection"><a class="anchor" id="autotoc_md46"></a>
Interface Description :</h2>
<p>Function to compute FT4222 sys clock and divisor to obtain user requested SPI communication clock <br  />
</p><ul>
<li>Available <a class="el" href="a00122.html#a58445dd09558817c0d5065de9cd41472">FT4222_ClockRate</a> (FT4222 system clock): <br  />
 SYS_CLK_60, <br  />
 SYS_CLK_24, <br  />
 SYS_CLK_48, <br  />
 SYS_CLK_80 <br  />
</li>
<li>Divisors available (<a class="el" href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5e">FT4222_SPIClock</a>): <br  />
 CLK_NONE, <br  />
 CLK_DIV_2, <br  />
 CLK_DIV_4, <br  />
 CLK_DIV_8, <br  />
 CLK_DIV_16, <br  />
 CLK_DIV_32, <br  />
 CLK_DIV_64, <br  />
 CLK_DIV_128, <br  />
 CLK_DIV_256, <br  />
 CLK_DIV_512 <br  />
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md47"></a>
Implementation :</h2>
<p>Good performance is observed with divisors other than CLK_DIV_2 and CLK_DIV_4 from test report by firmware developers. Hence supporting the following clocks for SPI communication <br  />
 5000KHz <br  />
 10000KHz <br  />
 15000KHz <br  />
 20000KHz <br  />
 30000KHz <br  />
 Global variable phost-&gt;SpiClockrateKHz is updated accodingly <br  />
</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md48"></a>
Return Value :</h2>
<p>bool_t <br  />
 TRUE : Supported by FT4222 <br  />
 FALSE : Not supported by FT4222 <br  />
 </p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md49"></a>
Author :</h2>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">sysclk</td><td>System clock </td></tr>
    <tr><td class="paramname">sysdivisor</td><td>SPI clock divisor </td></tr>
    <tr><td class="paramname">parameters</td><td>EVE_Hal framework's parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true True if ok </dd>
<dd>
false False if error </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00208">208</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  209</span>{</div>
<div class="line"><span class="lineno">  210</span>    <span class="comment">/* phost-&gt;Parameters.SpiClockrateKHz is the user requested SPI communication clock */</span></div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">if</span> (parameters-&gt;<a class="code hl_variable" href="a00194.html#a8de93ce966b791980acfb859499af71a">SpiClockrateKHz</a> &lt;= 5000)</div>
<div class="line"><span class="lineno">  213</span>    {</div>
<div class="line"><span class="lineno">  214</span>        <span class="comment">/* set to 5000 KHz */</span></div>
<div class="line"><span class="lineno">  215</span>        *sysclk = <a class="code hl_enumvalue" href="a00122.html#a58445dd09558817c0d5065de9cd41472a22361ca21af33897500f61bc2a94726a">SYS_CLK_80</a>;</div>
<div class="line"><span class="lineno">  216</span>        *sysdivisor = <a class="code hl_enumvalue" href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5eadd113e5758800e05fe98c665cbb23e22">CLK_DIV_16</a>;</div>
<div class="line"><span class="lineno">  217</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#a4dc5e7f7bb83a57bf73e2a815b0ebc81">SpiClockrateKHz</a> = 5000;</div>
<div class="line"><span class="lineno">  218</span>    }</div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parameters-&gt;<a class="code hl_variable" href="a00194.html#a8de93ce966b791980acfb859499af71a">SpiClockrateKHz</a> &lt;= 10000)</div>
<div class="line"><span class="lineno">  220</span>    {</div>
<div class="line"><span class="lineno">  221</span>        <span class="comment">/* set to 10000 KHz */</span></div>
<div class="line"><span class="lineno">  222</span>        *sysclk = <a class="code hl_enumvalue" href="a00122.html#a58445dd09558817c0d5065de9cd41472a22361ca21af33897500f61bc2a94726a">SYS_CLK_80</a>;</div>
<div class="line"><span class="lineno">  223</span>        *sysdivisor = <a class="code hl_enumvalue" href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5ea48803f6987ff40f1df5b1f0470ae8272">CLK_DIV_8</a>;</div>
<div class="line"><span class="lineno">  224</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#a4dc5e7f7bb83a57bf73e2a815b0ebc81">SpiClockrateKHz</a> = 10000;</div>
<div class="line"><span class="lineno">  225</span>    }</div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parameters-&gt;<a class="code hl_variable" href="a00194.html#a8de93ce966b791980acfb859499af71a">SpiClockrateKHz</a> &lt;= 15000)</div>
<div class="line"><span class="lineno">  227</span>    {</div>
<div class="line"><span class="lineno">  228</span>        <span class="comment">/* This is the default */</span></div>
<div class="line"><span class="lineno">  229</span>        <span class="comment">/* set to 15000 KHz */</span></div>
<div class="line"><span class="lineno">  230</span>        *sysclk = <a class="code hl_enumvalue" href="a00122.html#a58445dd09558817c0d5065de9cd41472ab44a07e300e4fb894ca070e4f1815ac3">SYS_CLK_60</a>;</div>
<div class="line"><span class="lineno">  231</span>        *sysdivisor = <a class="code hl_enumvalue" href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5ea61dd2df6c0b387640c0710f14ab788ef">CLK_DIV_4</a>;</div>
<div class="line"><span class="lineno">  232</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#a4dc5e7f7bb83a57bf73e2a815b0ebc81">SpiClockrateKHz</a> = 15000;</div>
<div class="line"><span class="lineno">  233</span>    }</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parameters-&gt;<a class="code hl_variable" href="a00194.html#a8de93ce966b791980acfb859499af71a">SpiClockrateKHz</a> &lt;= 20000)</div>
<div class="line"><span class="lineno">  235</span>    {</div>
<div class="line"><span class="lineno">  236</span>        <span class="comment">/* set to 20000 KHz */</span></div>
<div class="line"><span class="lineno">  237</span>        *sysclk = <a class="code hl_enumvalue" href="a00122.html#a58445dd09558817c0d5065de9cd41472a22361ca21af33897500f61bc2a94726a">SYS_CLK_80</a>;</div>
<div class="line"><span class="lineno">  238</span>        *sysdivisor = <a class="code hl_enumvalue" href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5ea61dd2df6c0b387640c0710f14ab788ef">CLK_DIV_4</a>;</div>
<div class="line"><span class="lineno">  239</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#a4dc5e7f7bb83a57bf73e2a815b0ebc81">SpiClockrateKHz</a> = 20000;</div>
<div class="line"><span class="lineno">  240</span>    }</div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  242</span>    {</div>
<div class="line"><span class="lineno">  243</span>        <span class="comment">/* 30MHz with Quad SPI seems to work reliably on BT816 */</span></div>
<div class="line"><span class="lineno">  244</span>        <span class="comment">/* set to 30000 KHz */</span></div>
<div class="line"><span class="lineno">  245</span>        *sysclk = <a class="code hl_enumvalue" href="a00122.html#a58445dd09558817c0d5065de9cd41472ab44a07e300e4fb894ca070e4f1815ac3">SYS_CLK_60</a>;</div>
<div class="line"><span class="lineno">  246</span>        *sysdivisor = <a class="code hl_enumvalue" href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5eab715ae5967806700f0a2861b90b9584b">CLK_DIV_2</a>;</div>
<div class="line"><span class="lineno">  247</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#a4dc5e7f7bb83a57bf73e2a815b0ebc81">SpiClockrateKHz</a> = 30000;</div>
<div class="line"><span class="lineno">  248</span>    }</div>
<div class="line"><span class="lineno">  249</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;User Selected SPI clk : %d KHz\n&quot;</span>, (<span class="keywordtype">int</span>)parameters-&gt;<a class="code hl_variable" href="a00194.html#a8de93ce966b791980acfb859499af71a">SpiClockrateKHz</a>);</div>
<div class="line"><span class="lineno">  250</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Configured clk : %d KHz, Ft4222 sys clk enum = %d , divisor enum = %d\n&quot;</span>, (<span class="keywordtype">int</span>)phost-&gt;<a class="code hl_variable" href="a00198.html#a4dc5e7f7bb83a57bf73e2a815b0ebc81">SpiClockrateKHz</a>, *sysclk, *sysdivisor);</div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  252</span>}</div>
<div class="ttc" id="aa00101_html_a28083a8dae14ceaa58b80efbbc6266df"><div class="ttname"><a href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a></div><div class="ttdeci">#define eve_printf_debug(fmt,...)</div><div class="ttdef"><b>Definition</b> <a href="a00101_source.html#l00120">EVE_Platform.h:120</a></div></div>
<div class="ttc" id="aa00122_html_a1bcee2db7da0fabb61e581ad3516bd5ea48803f6987ff40f1df5b1f0470ae8272"><div class="ttname"><a href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5ea48803f6987ff40f1df5b1f0470ae8272">CLK_DIV_8</a></div><div class="ttdeci">@ CLK_DIV_8</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00204">LibFT4222.h:204</a></div></div>
<div class="ttc" id="aa00122_html_a1bcee2db7da0fabb61e581ad3516bd5ea61dd2df6c0b387640c0710f14ab788ef"><div class="ttname"><a href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5ea61dd2df6c0b387640c0710f14ab788ef">CLK_DIV_4</a></div><div class="ttdeci">@ CLK_DIV_4</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00203">LibFT4222.h:203</a></div></div>
<div class="ttc" id="aa00122_html_a1bcee2db7da0fabb61e581ad3516bd5eab715ae5967806700f0a2861b90b9584b"><div class="ttname"><a href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5eab715ae5967806700f0a2861b90b9584b">CLK_DIV_2</a></div><div class="ttdeci">@ CLK_DIV_2</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00202">LibFT4222.h:202</a></div></div>
<div class="ttc" id="aa00122_html_a1bcee2db7da0fabb61e581ad3516bd5eadd113e5758800e05fe98c665cbb23e22"><div class="ttname"><a href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5eadd113e5758800e05fe98c665cbb23e22">CLK_DIV_16</a></div><div class="ttdeci">@ CLK_DIV_16</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00205">LibFT4222.h:205</a></div></div>
<div class="ttc" id="aa00122_html_a58445dd09558817c0d5065de9cd41472a22361ca21af33897500f61bc2a94726a"><div class="ttname"><a href="a00122.html#a58445dd09558817c0d5065de9cd41472a22361ca21af33897500f61bc2a94726a">SYS_CLK_80</a></div><div class="ttdeci">@ SYS_CLK_80</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00174">LibFT4222.h:174</a></div></div>
<div class="ttc" id="aa00122_html_a58445dd09558817c0d5065de9cd41472ab44a07e300e4fb894ca070e4f1815ac3"><div class="ttname"><a href="a00122.html#a58445dd09558817c0d5065de9cd41472ab44a07e300e4fb894ca070e4f1815ac3">SYS_CLK_60</a></div><div class="ttdeci">@ SYS_CLK_60</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00171">LibFT4222.h:171</a></div></div>
<div class="ttc" id="aa00194_html_a8de93ce966b791980acfb859499af71a"><div class="ttname"><a href="a00194.html#a8de93ce966b791980acfb859499af71a">EVE_HalParameters::SpiClockrateKHz</a></div><div class="ttdeci">uint16_t SpiClockrateKHz</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00183">EVE_HalDefs.h:183</a></div></div>
<div class="ttc" id="aa00198_html_a4dc5e7f7bb83a57bf73e2a815b0ebc81"><div class="ttname"><a href="a00198.html#a4dc5e7f7bb83a57bf73e2a815b0ebc81">EVE_HalContext::SpiClockrateKHz</a></div><div class="ttdeci">uint16_t SpiClockrateKHz</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00223">EVE_HalDefs.h:223</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a95f66e9e6a58d727643552ee09ff8e53" name="a95f66e9e6a58d727643552ee09ff8e53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95f66e9e6a58d727643552ee09ff8e53">&#9670;&#160;</a></span>EVE_Hal_endTransfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVE_Hal_endTransfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>End data transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00852">852</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  853</span>{</div>
<div class="line"><span class="lineno">  854</span>    <a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> addr;</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>    <a class="code hl_define" href="a00101.html#a1b23dd5646ab44acdb54bda108ca76fa">eve_assert</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> == <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571a78eb430182c84693b6e061f6deff30a5">EVE_STATUS_READING</a> || phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> == <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ae9efa17f14567a70761b4ad241d59bb7">EVE_STATUS_WRITING</a>);</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>    <span class="comment">/* Transfers to FIFO and DL are kept open */</span></div>
<div class="line"><span class="lineno">  859</span>    addr = phost-&gt;<a class="code hl_variable" href="a00198.html#a59906f64e8c5887616b0db4c30b33cb2">SpiRamGAddr</a>;</div>
<div class="line"><span class="lineno">  860</span>    <span class="keywordflow">if</span> ((addr != <a class="code hl_define" href="a00053.html#a4a7e71a6436d0efd820c33136e5cb4aa">REG_CMDB_WRITE</a>)</div>
<div class="line"><span class="lineno">  861</span>        &amp;&amp; !((addr &gt;= <a class="code hl_define" href="a00053.html#a46d2e1693200e0f9dc2404014b258876">RAM_CMD</a>) &amp;&amp; (addr &lt; (<a class="code hl_define" href="a00053.html#a46d2e1693200e0f9dc2404014b258876">RAM_CMD</a> + <a class="code hl_define" href="a00053.html#a502cc5fe8f4d614bbd749907aaf22faf">EVE_CMD_FIFO_SIZE</a>)))</div>
<div class="line"><span class="lineno">  862</span>        &amp;&amp; !((addr &gt;= <a class="code hl_define" href="a00053.html#a7e06db0027e38740195e134cc009cd82">RAM_DL</a>) &amp;&amp; (addr &lt; (<a class="code hl_define" href="a00053.html#a7e06db0027e38740195e134cc009cd82">RAM_DL</a> + <a class="code hl_define" href="a00053.html#aedce04443751d0000ed61f3c0e782da8">EVE_DL_SIZE</a>))))</div>
<div class="line"><span class="lineno">  863</span>    {</div>
<div class="line"><span class="lineno">  864</span>        <a class="code hl_function" href="#afb74cba236df2fd69448d11f4e02d024">flush</a>(phost);</div>
<div class="line"><span class="lineno">  865</span>    }</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>    <span class="keywordflow">if</span> (phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> != <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ade672f60908477052ed1b71e1a6c9a32">EVE_STATUS_ERROR</a>)</div>
<div class="line"><span class="lineno">  868</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> = <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ad69e8b7fc9e94116000173d227e5cbf8">EVE_STATUS_OPENED</a>;</div>
<div class="line"><span class="lineno">  869</span>}</div>
<div class="ttc" id="aa00053_html_a46d2e1693200e0f9dc2404014b258876"><div class="ttname"><a href="a00053.html#a46d2e1693200e0f9dc2404014b258876">RAM_CMD</a></div><div class="ttdeci">#define RAM_CMD</div><div class="ttdef"><b>Definition</b> <a href="a00053_source.html#l00069">EVE_GpuDefs.h:69</a></div></div>
<div class="ttc" id="aa00053_html_a4a7e71a6436d0efd820c33136e5cb4aa"><div class="ttname"><a href="a00053.html#a4a7e71a6436d0efd820c33136e5cb4aa">REG_CMDB_WRITE</a></div><div class="ttdeci">#define REG_CMDB_WRITE</div><div class="ttdef"><b>Definition</b> <a href="a00053_source.html#l00211">EVE_GpuDefs.h:211</a></div></div>
<div class="ttc" id="aa00053_html_a502cc5fe8f4d614bbd749907aaf22faf"><div class="ttname"><a href="a00053.html#a502cc5fe8f4d614bbd749907aaf22faf">EVE_CMD_FIFO_SIZE</a></div><div class="ttdeci">#define EVE_CMD_FIFO_SIZE</div><div class="ttdef"><b>Definition</b> <a href="a00053_source.html#l00045">EVE_GpuDefs.h:45</a></div></div>
<div class="ttc" id="aa00053_html_a7e06db0027e38740195e134cc009cd82"><div class="ttname"><a href="a00053.html#a7e06db0027e38740195e134cc009cd82">RAM_DL</a></div><div class="ttdeci">#define RAM_DL</div><div class="ttdef"><b>Definition</b> <a href="a00053_source.html#l00073">EVE_GpuDefs.h:73</a></div></div>
<div class="ttc" id="aa00053_html_aedce04443751d0000ed61f3c0e782da8"><div class="ttname"><a href="a00053.html#aedce04443751d0000ed61f3c0e782da8">EVE_DL_SIZE</a></div><div class="ttdeci">#define EVE_DL_SIZE</div><div class="ttdef"><b>Definition</b> <a href="a00053_source.html#l00044">EVE_GpuDefs.h:44</a></div></div>
<div class="ttc" id="aa00068_html_a0b522eda2f71f75e89a78ef13ac15571a78eb430182c84693b6e061f6deff30a5"><div class="ttname"><a href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571a78eb430182c84693b6e061f6deff30a5">EVE_STATUS_READING</a></div><div class="ttdeci">@ EVE_STATUS_READING</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00059">EVE_HalDefs.h:59</a></div></div>
<div class="ttc" id="aa00068_html_a0b522eda2f71f75e89a78ef13ac15571ad69e8b7fc9e94116000173d227e5cbf8"><div class="ttname"><a href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ad69e8b7fc9e94116000173d227e5cbf8">EVE_STATUS_OPENED</a></div><div class="ttdeci">@ EVE_STATUS_OPENED</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00058">EVE_HalDefs.h:58</a></div></div>
<div class="ttc" id="aa00068_html_a0b522eda2f71f75e89a78ef13ac15571ade672f60908477052ed1b71e1a6c9a32"><div class="ttname"><a href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ade672f60908477052ed1b71e1a6c9a32">EVE_STATUS_ERROR</a></div><div class="ttdeci">@ EVE_STATUS_ERROR</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00061">EVE_HalDefs.h:61</a></div></div>
<div class="ttc" id="aa00068_html_a0b522eda2f71f75e89a78ef13ac15571ae9efa17f14567a70761b4ad241d59bb7"><div class="ttname"><a href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ae9efa17f14567a70761b4ad241d59bb7">EVE_STATUS_WRITING</a></div><div class="ttdeci">@ EVE_STATUS_WRITING</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00060">EVE_HalDefs.h:60</a></div></div>
<div class="ttc" id="aa00074_html_afb74cba236df2fd69448d11f4e02d024"><div class="ttname"><a href="#afb74cba236df2fd69448d11f4e02d024">flush</a></div><div class="ttdeci">static bool flush(EVE_HalContext *phost)</div><div class="ttdoc">Flush data to Coprocessor.</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00878">EVE_HalImpl_FT4222.c:878</a></div></div>
<div class="ttc" id="aa00086_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition</b> <a href="a00086_source.html#l00042">EVE_IntTypes_MSVC12.h:42</a></div></div>
<div class="ttc" id="aa00101_html_a1b23dd5646ab44acdb54bda108ca76fa"><div class="ttname"><a href="a00101.html#a1b23dd5646ab44acdb54bda108ca76fa">eve_assert</a></div><div class="ttdeci">#define eve_assert(cond)</div><div class="ttdef"><b>Definition</b> <a href="a00101_source.html#l00121">EVE_Platform.h:121</a></div></div>
<div class="ttc" id="aa00198_html_a59906f64e8c5887616b0db4c30b33cb2"><div class="ttname"><a href="a00198.html#a59906f64e8c5887616b0db4c30b33cb2">EVE_HalContext::SpiRamGAddr</a></div><div class="ttdeci">uint32_t SpiRamGAddr</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00243">EVE_HalDefs.h:243</a></div></div>
<div class="ttc" id="aa00198_html_ae804ad019fda9cee443257f08613d032"><div class="ttname"><a href="a00198.html#ae804ad019fda9cee443257f08613d032">EVE_HalContext::Status</a></div><div class="ttdeci">EVE_STATUS_T Status</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00203">EVE_HalDefs.h:203</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aad5c7388c3f1344cb315e6d1d9bcd1dd" name="aad5c7388c3f1344cb315e6d1d9bcd1dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad5c7388c3f1344cb315e6d1d9bcd1dd">&#9670;&#160;</a></span>EVE_Hal_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVE_Hal_flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush data to Coprocessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00894">894</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  895</span>{</div>
<div class="line"><span class="lineno">  896</span>    <a class="code hl_define" href="a00101.html#a1b23dd5646ab44acdb54bda108ca76fa">eve_assert</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> == <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ad69e8b7fc9e94116000173d227e5cbf8">EVE_STATUS_OPENED</a>);</div>
<div class="line"><span class="lineno">  897</span>    <a class="code hl_function" href="#afb74cba236df2fd69448d11f4e02d024">flush</a>(phost);</div>
<div class="line"><span class="lineno">  898</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a97b04ff2da02778339ed9e8bf1b62feb" name="a97b04ff2da02778339ed9e8bf1b62feb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97b04ff2da02778339ed9e8bf1b62feb">&#9670;&#160;</a></span>EVE_Hal_getInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a> EVE_Hal_getInterrupt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get interrupt status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on interrupt happened or otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l01224">1224</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1225</span>{</div>
<div class="line"><span class="lineno"> 1226</span>    <a class="code hl_typedef" href="a00128.html#ac3247c51e4e3de674affb32998e133e2">BOOL</a> value = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1227</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="a00122.html#ad220219737db52f7a45475d364e49e85">FT4222_GPIO_Read</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a>, (<a class="code hl_enumeration" href="a00122.html#af164c756418dde00ac07fd47d0962150">GPIO_Port</a>)<a class="code hl_enumvalue" href="a00122.html#af164c756418dde00ac07fd47d0962150aa00982db3132ede73a8ce42745202e0d">GPIO_PORT2</a>, &amp;value) == <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno"> 1228</span>    {</div>
<div class="line"><span class="lineno"> 1229</span>        <span class="keywordflow">if</span> (value == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 1230</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1231</span>    }</div>
<div class="line"><span class="lineno"> 1232</span> </div>
<div class="line"><span class="lineno"> 1233</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1234</span>}</div>
<div class="ttc" id="aa00122_html_a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927"><div class="ttname"><a href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a></div><div class="ttdeci">@ FT4222_OK</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00121">LibFT4222.h:121</a></div></div>
<div class="ttc" id="aa00122_html_ad220219737db52f7a45475d364e49e85"><div class="ttname"><a href="a00122.html#ad220219737db52f7a45475d364e49e85">FT4222_GPIO_Read</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_GPIO_Read(FT_HANDLE ftHandle, GPIO_Port portNum, BOOL *value)</div></div>
<div class="ttc" id="aa00122_html_af164c756418dde00ac07fd47d0962150"><div class="ttname"><a href="a00122.html#af164c756418dde00ac07fd47d0962150">GPIO_Port</a></div><div class="ttdeci">GPIO_Port</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00248">LibFT4222.h:249</a></div></div>
<div class="ttc" id="aa00122_html_af164c756418dde00ac07fd47d0962150aa00982db3132ede73a8ce42745202e0d"><div class="ttname"><a href="a00122.html#af164c756418dde00ac07fd47d0962150aa00982db3132ede73a8ce42745202e0d">GPIO_PORT2</a></div><div class="ttdeci">@ GPIO_PORT2</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00252">LibFT4222.h:252</a></div></div>
<div class="ttc" id="aa00128_html_ac3247c51e4e3de674affb32998e133e2"><div class="ttname"><a href="a00128.html#ac3247c51e4e3de674affb32998e133e2">BOOL</a></div><div class="ttdeci">unsigned int BOOL</div><div class="ttdef"><b>Definition</b> <a href="a00128_source.html#l00046">WinTypes.h:46</a></div></div>
<div class="ttc" id="aa00198_html_a61e09718ae69d69c00a99cef0752d5e3"><div class="ttname"><a href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">EVE_HalContext::GpioHandle</a></div><div class="ttdeci">void * GpioHandle</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00217">EVE_HalDefs.h:217</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8386b43bb5a25e8b9913905aac30f6e" name="ac8386b43bb5a25e8b9913905aac30f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8386b43bb5a25e8b9913905aac30f6e">&#9670;&#160;</a></span>EVE_Hal_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t EVE_Hal_list </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List the available devices. </p>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00106">106</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  107</span>{</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_variable" href="#a9b2e046e3c9a655e83cee86a84f145ea">s_NumDevsD2XX</a> = 0;</div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_function" href="a00119.html#a8d452a978313dbebcc600a5b1c3cbf65">FT_CreateDeviceInfoList</a>(&amp;<a class="code hl_variable" href="#a9b2e046e3c9a655e83cee86a84f145ea">s_NumDevsD2XX</a>);</div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#a9b2e046e3c9a655e83cee86a84f145ea">s_NumDevsD2XX</a>;</div>
<div class="line"><span class="lineno">  111</span>}</div>
<div class="ttc" id="aa00074_html_a9b2e046e3c9a655e83cee86a84f145ea"><div class="ttname"><a href="#a9b2e046e3c9a655e83cee86a84f145ea">s_NumDevsD2XX</a></div><div class="ttdeci">DWORD s_NumDevsD2XX</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00048">EVE_HalImpl_FT4222.c:48</a></div></div>
<div class="ttc" id="aa00119_html_a8d452a978313dbebcc600a5b1c3cbf65"><div class="ttname"><a href="a00119.html#a8d452a978313dbebcc600a5b1c3cbf65">FT_CreateDeviceInfoList</a></div><div class="ttdeci">FTD2XX_API FT_STATUS WINAPI FT_CreateDeviceInfoList(LPDWORD lpdwNumDevs)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa41d2ff6e5001c07224750edda0335e7" name="aa41d2ff6e5001c07224750edda0335e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa41d2ff6e5001c07224750edda0335e7">&#9670;&#160;</a></span>EVE_Hal_powerCycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a> EVE_Hal_powerCycle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>up</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Toggle PD_N pin of BT820 board for a power cycle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">up</td><td>Up or Down </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true True if ok </dd>
<dd>
false False if error </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l01124">1124</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1125</span>{</div>
<div class="line"><span class="lineno"> 1126</span>    <span class="keywordtype">bool</span> res = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1127</span>    <a class="code hl_function" href="#afb74cba236df2fd69448d11f4e02d024">flush</a>(phost);</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>    <span class="keywordflow">if</span> (up)</div>
<div class="line"><span class="lineno"> 1130</span>    {</div>
<div class="line"><span class="lineno"> 1131</span>        <a class="code hl_enumeration" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35">FT4222_STATUS</a> status = <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35a810285b8b148e475008e3f76a429a9d6">FT4222_OTHER_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1132</span> </div>
<div class="line"><span class="lineno"> 1133</span>        <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a> != (status = <a class="code hl_function" href="a00122.html#a54af852c07d8d3750a4fd4fa89628f59">FT4222_GPIO_Write</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a>, phost-&gt;<a class="code hl_variable" href="a00198.html#aa281deef6ce1abacb20455b5c921aecc">PowerDownPin</a>, 0)))</div>
<div class="line"><span class="lineno"> 1134</span>        {</div>
<div class="line"><span class="lineno"> 1135</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_GPIO_Write error = %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno"> 1136</span>            res = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1137</span>        }</div>
<div class="line"><span class="lineno"> 1138</span>        <a class="code hl_function" href="a00071.html#ac3aa9dd28a24400fa4b5af0944865541">EVE_sleep</a>(20);</div>
<div class="line"><span class="lineno"> 1139</span> </div>
<div class="line"><span class="lineno"> 1140</span>        <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a> != (status = <a class="code hl_function" href="a00122.html#a54af852c07d8d3750a4fd4fa89628f59">FT4222_GPIO_Write</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a>, phost-&gt;<a class="code hl_variable" href="a00198.html#aa281deef6ce1abacb20455b5c921aecc">PowerDownPin</a>, 1)))</div>
<div class="line"><span class="lineno"> 1141</span>        {</div>
<div class="line"><span class="lineno"> 1142</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_GPIO_Write error = %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno"> 1143</span>            res = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1144</span>        }</div>
<div class="line"><span class="lineno"> 1145</span>        <a class="code hl_function" href="a00071.html#ac3aa9dd28a24400fa4b5af0944865541">EVE_sleep</a>(20);</div>
<div class="line"><span class="lineno"> 1146</span>    }</div>
<div class="line"><span class="lineno"> 1147</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1148</span>    {</div>
<div class="line"><span class="lineno"> 1149</span>        <a class="code hl_enumeration" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35">FT4222_STATUS</a> status = <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35a810285b8b148e475008e3f76a429a9d6">FT4222_OTHER_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1150</span> </div>
<div class="line"><span class="lineno"> 1151</span>        <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a> != (status = <a class="code hl_function" href="a00122.html#a54af852c07d8d3750a4fd4fa89628f59">FT4222_GPIO_Write</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a>, phost-&gt;<a class="code hl_variable" href="a00198.html#aa281deef6ce1abacb20455b5c921aecc">PowerDownPin</a>, 1)))</div>
<div class="line"><span class="lineno"> 1152</span>        {</div>
<div class="line"><span class="lineno"> 1153</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_GPIO_Write error = %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno"> 1154</span>            res = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1155</span>        }</div>
<div class="line"><span class="lineno"> 1156</span>        <a class="code hl_function" href="a00071.html#ac3aa9dd28a24400fa4b5af0944865541">EVE_sleep</a>(20);</div>
<div class="line"><span class="lineno"> 1157</span> </div>
<div class="line"><span class="lineno"> 1158</span>        <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a> != (status = <a class="code hl_function" href="a00122.html#a54af852c07d8d3750a4fd4fa89628f59">FT4222_GPIO_Write</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a>, phost-&gt;<a class="code hl_variable" href="a00198.html#aa281deef6ce1abacb20455b5c921aecc">PowerDownPin</a>, 0)))</div>
<div class="line"><span class="lineno"> 1159</span>        {</div>
<div class="line"><span class="lineno"> 1160</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_GPIO_Write error = %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno"> 1161</span>            res = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1162</span>        }</div>
<div class="line"><span class="lineno"> 1163</span>        <a class="code hl_function" href="a00071.html#ac3aa9dd28a24400fa4b5af0944865541">EVE_sleep</a>(20);</div>
<div class="line"><span class="lineno"> 1164</span>    }</div>
<div class="line"><span class="lineno"> 1165</span> </div>
<div class="line"><span class="lineno"> 1166</span>    <span class="comment">/* Reset to single channel SPI mode */</span></div>
<div class="line"><span class="lineno"> 1167</span>    <a class="code hl_function" href="#aaa31fb8a051f41ddf826beb1be8c2cec">setSPI</a>(phost, <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1ab2054e64bd3b2575789721cbd3013505">EVE_SPI_SINGLE_CHANNEL</a>);</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno"> 1170</span>}</div>
<div class="ttc" id="aa00056_html_a9b693d769c49b7fb4bf92d6cece8c1a1ab2054e64bd3b2575789721cbd3013505"><div class="ttname"><a href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1ab2054e64bd3b2575789721cbd3013505">EVE_SPI_SINGLE_CHANNEL</a></div><div class="ttdeci">@ EVE_SPI_SINGLE_CHANNEL</div><div class="ttdef"><b>Definition</b> <a href="a00056_source.html#l00054">EVE_GpuTypes.h:54</a></div></div>
<div class="ttc" id="aa00071_html_ac3aa9dd28a24400fa4b5af0944865541"><div class="ttname"><a href="a00071.html#ac3aa9dd28a24400fa4b5af0944865541">EVE_sleep</a></div><div class="ttdeci">void EVE_sleep(uint32_t ms)</div><div class="ttdoc">Sleep in milisecond.</div><div class="ttdef"><b>Definition</b> <a href="a00080_source.html#l00121">EVE_HalImpl_WIN32.c:121</a></div></div>
<div class="ttc" id="aa00074_html_aaa31fb8a051f41ddf826beb1be8c2cec"><div class="ttname"><a href="#aaa31fb8a051f41ddf826beb1be8c2cec">setSPI</a></div><div class="ttdeci">void setSPI(EVE_HalContext *phost, EVE_SPI_CHANNELS_T numchnls)</div><div class="ttdoc">Set number of SPI channel.</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l01093">EVE_HalImpl_FT4222.c:1093</a></div></div>
<div class="ttc" id="aa00122_html_a211ebf62f4a6ec39f19d39b3fce19f35"><div class="ttname"><a href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35">FT4222_STATUS</a></div><div class="ttdeci">FT4222_STATUS</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00119">LibFT4222.h:120</a></div></div>
<div class="ttc" id="aa00122_html_a211ebf62f4a6ec39f19d39b3fce19f35a810285b8b148e475008e3f76a429a9d6"><div class="ttname"><a href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35a810285b8b148e475008e3f76a429a9d6">FT4222_OTHER_ERROR</a></div><div class="ttdeci">@ FT4222_OTHER_ERROR</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00139">LibFT4222.h:139</a></div></div>
<div class="ttc" id="aa00122_html_a54af852c07d8d3750a4fd4fa89628f59"><div class="ttname"><a href="a00122.html#a54af852c07d8d3750a4fd4fa89628f59">FT4222_GPIO_Write</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_GPIO_Write(FT_HANDLE ftHandle, GPIO_Port portNum, BOOL bValue)</div></div>
<div class="ttc" id="aa00198_html_aa281deef6ce1abacb20455b5c921aecc"><div class="ttname"><a href="a00198.html#aa281deef6ce1abacb20455b5c921aecc">EVE_HalContext::PowerDownPin</a></div><div class="ttdeci">uint8_t PowerDownPin</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00234">EVE_HalDefs.h:234</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a64f52b40dac1083cf21c476be253b314" name="a64f52b40dac1083cf21c476be253b314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64f52b40dac1083cf21c476be253b314">&#9670;&#160;</a></span>EVE_Hal_restoreSPI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVE_Hal_restoreSPI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restore platform to previously configured EVE SPI channel mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l01212">1212</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1213</span>{</div>
<div class="line"><span class="lineno"> 1214</span>    <a class="code hl_function" href="#afb74cba236df2fd69448d11f4e02d024">flush</a>(phost);</div>
<div class="line"><span class="lineno"> 1215</span>    <a class="code hl_function" href="#aaa31fb8a051f41ddf826beb1be8c2cec">setSPI</a>(phost, phost-&gt;<a class="code hl_variable" href="a00198.html#ac74537dc1b66428772d59c08934dd75d">SpiChannels</a>);</div>
<div class="line"><span class="lineno"> 1216</span>}</div>
<div class="ttc" id="aa00198_html_ac74537dc1b66428772d59c08934dd75d"><div class="ttname"><a href="a00198.html#ac74537dc1b66428772d59c08934dd75d">EVE_HalContext::SpiChannels</a></div><div class="ttdeci">EVE_SPI_CHANNELS_T SpiChannels</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00225">EVE_HalDefs.h:225</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aea3fd8baa6dec6b82b5e1ffc259a2846" name="aea3fd8baa6dec6b82b5e1ffc259a2846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea3fd8baa6dec6b82b5e1ffc259a2846">&#9670;&#160;</a></span>EVE_Hal_setSPI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVE_Hal_setSPI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1">EVE_SPI_CHANNELS_T</a></td>          <td class="paramname"><span class="paramname"><em>numchnls</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set number of SPI channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">numchnls</td><td>Number of channel </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l01178">1178</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1179</span>{</div>
<div class="line"><span class="lineno"> 1180</span>    <a class="code hl_typedef" href="a00086.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> syscfg;</div>
<div class="line"><span class="lineno"> 1181</span> </div>
<div class="line"><span class="lineno"> 1182</span>    <a class="code hl_function" href="#afb74cba236df2fd69448d11f4e02d024">flush</a>(phost);</div>
<div class="line"><span class="lineno"> 1183</span> </div>
<div class="line"><span class="lineno"> 1184</span>    <span class="keywordflow">if</span> (numchnls &gt; <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1a9b7cab9528415f52504f207640368b95">EVE_SPI_QUAD_CHANNEL</a>)</div>
<div class="line"><span class="lineno"> 1185</span>        <span class="keywordflow">return</span>; <span class="comment">// error</span></div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>    <span class="comment">/* Switch EVE to multi channel SPI mode */</span></div>
<div class="line"><span class="lineno"> 1188</span>    <a class="code hl_function" href="#a9ce48cbe05ee203513f69ec2493b282f">EVE_Hal_startTransfer</a>(phost, <a class="code hl_enumvalue" href="a00068.html#a427d04762f17f5f228ec5669d0448ef6a83b2c26ac8917f789043f07289651058">EVE_TRANSFER_READ</a>, <a class="code hl_define" href="a00053.html#a7de47c827f8f685f414f2c83376b979e">REG_SYS_CFG</a>);</div>
<div class="line"><span class="lineno"> 1189</span>    syscfg = <a class="code hl_function" href="#afbb284fc468b20bf6dc91b255188e93d">EVE_Hal_transfer32</a>(phost, 0);</div>
<div class="line"><span class="lineno"> 1190</span>    <a class="code hl_function" href="#a95f66e9e6a58d727643552ee09ff8e53">EVE_Hal_endTransfer</a>(phost);</div>
<div class="line"><span class="lineno"> 1191</span>    <span class="keywordflow">if</span> (numchnls == <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1ad81caccc39ab6f2a752f09de9b705cc9">EVE_SPI_DUAL_CHANNEL</a>)</div>
<div class="line"><span class="lineno"> 1192</span>    {</div>
<div class="line"><span class="lineno"> 1193</span>        syscfg |= <a class="code hl_define" href="a00053.html#a21fcff0f34beb8a68eb188fbb01f1b75">SPI_WIDTH_2bit</a>;</div>
<div class="line"><span class="lineno"> 1194</span>    }</div>
<div class="line"><span class="lineno"> 1195</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (numchnls == <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1a9b7cab9528415f52504f207640368b95">EVE_SPI_QUAD_CHANNEL</a>)</div>
<div class="line"><span class="lineno"> 1196</span>    {</div>
<div class="line"><span class="lineno"> 1197</span>        syscfg |= <a class="code hl_define" href="a00053.html#a1090be920bc5eb7c93b80a47841c79fa">SPI_WIDTH_4bit</a>;</div>
<div class="line"><span class="lineno"> 1198</span>    }</div>
<div class="line"><span class="lineno"> 1199</span>    <a class="code hl_function" href="#a9ce48cbe05ee203513f69ec2493b282f">EVE_Hal_startTransfer</a>(phost, <a class="code hl_enumvalue" href="a00068.html#a427d04762f17f5f228ec5669d0448ef6a1a73e440f20caba7d6b73284326b3d49">EVE_TRANSFER_WRITE</a>, <a class="code hl_define" href="a00053.html#a7de47c827f8f685f414f2c83376b979e">REG_SYS_CFG</a>);</div>
<div class="line"><span class="lineno"> 1200</span>    <a class="code hl_function" href="#afbb284fc468b20bf6dc91b255188e93d">EVE_Hal_transfer32</a>(phost, syscfg);</div>
<div class="line"><span class="lineno"> 1201</span>    <a class="code hl_function" href="#a95f66e9e6a58d727643552ee09ff8e53">EVE_Hal_endTransfer</a>(phost);</div>
<div class="line"><span class="lineno"> 1202</span> </div>
<div class="line"><span class="lineno"> 1203</span>    <span class="comment">/* Switch FT4222 to multi channel SPI mode */</span></div>
<div class="line"><span class="lineno"> 1204</span>    <a class="code hl_function" href="#aaa31fb8a051f41ddf826beb1be8c2cec">setSPI</a>(phost, numchnls);</div>
<div class="line"><span class="lineno"> 1205</span>}</div>
<div class="ttc" id="aa00053_html_a1090be920bc5eb7c93b80a47841c79fa"><div class="ttname"><a href="a00053.html#a1090be920bc5eb7c93b80a47841c79fa">SPI_WIDTH_4bit</a></div><div class="ttdeci">#define SPI_WIDTH_4bit</div><div class="ttdef"><b>Definition</b> <a href="a00053_source.html#l00057">EVE_GpuDefs.h:57</a></div></div>
<div class="ttc" id="aa00053_html_a21fcff0f34beb8a68eb188fbb01f1b75"><div class="ttname"><a href="a00053.html#a21fcff0f34beb8a68eb188fbb01f1b75">SPI_WIDTH_2bit</a></div><div class="ttdeci">#define SPI_WIDTH_2bit</div><div class="ttdef"><b>Definition</b> <a href="a00053_source.html#l00056">EVE_GpuDefs.h:56</a></div></div>
<div class="ttc" id="aa00053_html_a7de47c827f8f685f414f2c83376b979e"><div class="ttname"><a href="a00053.html#a7de47c827f8f685f414f2c83376b979e">REG_SYS_CFG</a></div><div class="ttdeci">#define REG_SYS_CFG</div><div class="ttdef"><b>Definition</b> <a href="a00053_source.html#l00279">EVE_GpuDefs.h:279</a></div></div>
<div class="ttc" id="aa00056_html_a9b693d769c49b7fb4bf92d6cece8c1a1a9b7cab9528415f52504f207640368b95"><div class="ttname"><a href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1a9b7cab9528415f52504f207640368b95">EVE_SPI_QUAD_CHANNEL</a></div><div class="ttdeci">@ EVE_SPI_QUAD_CHANNEL</div><div class="ttdef"><b>Definition</b> <a href="a00056_source.html#l00056">EVE_GpuTypes.h:56</a></div></div>
<div class="ttc" id="aa00056_html_a9b693d769c49b7fb4bf92d6cece8c1a1ad81caccc39ab6f2a752f09de9b705cc9"><div class="ttname"><a href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1ad81caccc39ab6f2a752f09de9b705cc9">EVE_SPI_DUAL_CHANNEL</a></div><div class="ttdeci">@ EVE_SPI_DUAL_CHANNEL</div><div class="ttdef"><b>Definition</b> <a href="a00056_source.html#l00055">EVE_GpuTypes.h:55</a></div></div>
<div class="ttc" id="aa00068_html_a427d04762f17f5f228ec5669d0448ef6a1a73e440f20caba7d6b73284326b3d49"><div class="ttname"><a href="a00068.html#a427d04762f17f5f228ec5669d0448ef6a1a73e440f20caba7d6b73284326b3d49">EVE_TRANSFER_WRITE</a></div><div class="ttdeci">@ EVE_TRANSFER_WRITE</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00068">EVE_HalDefs.h:68</a></div></div>
<div class="ttc" id="aa00068_html_a427d04762f17f5f228ec5669d0448ef6a83b2c26ac8917f789043f07289651058"><div class="ttname"><a href="a00068.html#a427d04762f17f5f228ec5669d0448ef6a83b2c26ac8917f789043f07289651058">EVE_TRANSFER_READ</a></div><div class="ttdeci">@ EVE_TRANSFER_READ</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00067">EVE_HalDefs.h:67</a></div></div>
<div class="ttc" id="aa00074_html_a95f66e9e6a58d727643552ee09ff8e53"><div class="ttname"><a href="#a95f66e9e6a58d727643552ee09ff8e53">EVE_Hal_endTransfer</a></div><div class="ttdeci">void EVE_Hal_endTransfer(EVE_HalContext *phost)</div><div class="ttdoc">End data transfer.</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00852">EVE_HalImpl_FT4222.c:852</a></div></div>
<div class="ttc" id="aa00074_html_a9ce48cbe05ee203513f69ec2493b282f"><div class="ttname"><a href="#a9ce48cbe05ee203513f69ec2493b282f">EVE_Hal_startTransfer</a></div><div class="ttdeci">void EVE_Hal_startTransfer(EVE_HalContext *phost, EVE_TRANSFER_T rw, uint32_t addr)</div><div class="ttdoc">Start data transfer to Coprocessor.</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00827">EVE_HalImpl_FT4222.c:827</a></div></div>
<div class="ttc" id="aa00074_html_afbb284fc468b20bf6dc91b255188e93d"><div class="ttname"><a href="#afbb284fc468b20bf6dc91b255188e93d">EVE_Hal_transfer32</a></div><div class="ttdeci">uint32_t EVE_Hal_transfer32(EVE_HalContext *phost, uint32_t value)</div><div class="ttdoc">Write 4 bytes to Coprocessor.</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00907">EVE_HalImpl_FT4222.c:907</a></div></div>
<div class="ttc" id="aa00086_html_a32f2e37ee053cf2ce8ca28d1f74630e5"><div class="ttname"><a href="a00086.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition</b> <a href="a00086_source.html#l00038">EVE_IntTypes_MSVC12.h:38</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ada3e1039718c59cc642229bc54ad45ca" name="ada3e1039718c59cc642229bc54ad45ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada3e1039718c59cc642229bc54ad45ca">&#9670;&#160;</a></span>EVE_Hal_spiCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVE_Hal_spiCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API sends a 5byte command to the phost. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">cmd</td><td>Command to send </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l01032">1032</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1033</span>{</div>
<div class="line"><span class="lineno"> 1034</span>    <a class="code hl_enumeration" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35">FT4222_STATUS</a> status;</div>
<div class="line"><span class="lineno"> 1035</span>    <a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> dummyRead;</div>
<div class="line"><span class="lineno"> 1036</span>    <a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> transferArray[5];</div>
<div class="line"><span class="lineno"> 1037</span> </div>
<div class="line"><span class="lineno"> 1038</span>    <a class="code hl_typedef" href="a00086.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> sizeTransferred;</div>
<div class="line"><span class="lineno"> 1039</span>    <a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sizeOfRead;</div>
<div class="line"><span class="lineno"> 1040</span> </div>
<div class="line"><span class="lineno"> 1041</span>    <a class="code hl_function" href="#afb74cba236df2fd69448d11f4e02d024">flush</a>(phost);</div>
<div class="line"><span class="lineno"> 1042</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;SPI cmd: 0x%x, 0x%x, 0x%x, 0x%x, 0x%x\n&quot;</span>, cmd[0], cmd[1], cmd[2], cmd[3], cmd[4]);</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>    transferArray[0] = cmd[0];</div>
<div class="line"><span class="lineno"> 1045</span>    transferArray[1] = cmd[1];</div>
<div class="line"><span class="lineno"> 1046</span>    transferArray[2] = cmd[2];</div>
<div class="line"><span class="lineno"> 1047</span>    transferArray[3] = cmd[3];</div>
<div class="line"><span class="lineno"> 1048</span>    transferArray[4] = cmd[4];</div>
<div class="line"><span class="lineno"> 1049</span> </div>
<div class="line"><span class="lineno"> 1050</span>    <span class="keywordflow">switch</span> (phost-&gt;<a class="code hl_variable" href="a00198.html#ac74537dc1b66428772d59c08934dd75d">SpiChannels</a>)</div>
<div class="line"><span class="lineno"> 1051</span>    {</div>
<div class="line"><span class="lineno"> 1052</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1ab2054e64bd3b2575789721cbd3013505">EVE_SPI_SINGLE_CHANNEL</a>:</div>
<div class="line"><span class="lineno"> 1053</span>        status = <a class="code hl_function" href="a00122.html#aed7f937b6157ea1a542c99681c105873">FT4222_SPIMaster_SingleWrite</a>(</div>
<div class="line"><span class="lineno"> 1054</span>            phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>,</div>
<div class="line"><span class="lineno"> 1055</span>            transferArray,</div>
<div class="line"><span class="lineno"> 1056</span>            <span class="keyword">sizeof</span>(transferArray),</div>
<div class="line"><span class="lineno"> 1057</span>            &amp;sizeTransferred,</div>
<div class="line"><span class="lineno"> 1058</span>            <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1059</span>        <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a> != status)</div>
<div class="line"><span class="lineno"> 1060</span>        {</div>
<div class="line"><span class="lineno"> 1061</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;SPI write failed = %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno"> 1062</span>            phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> = <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ade672f60908477052ed1b71e1a6c9a32">EVE_STATUS_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1063</span>        }</div>
<div class="line"><span class="lineno"> 1064</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1065</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1ad81caccc39ab6f2a752f09de9b705cc9">EVE_SPI_DUAL_CHANNEL</a>:</div>
<div class="line"><span class="lineno"> 1066</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1a9b7cab9528415f52504f207640368b95">EVE_SPI_QUAD_CHANNEL</a>:</div>
<div class="line"><span class="lineno"> 1067</span>        <span class="comment">/* FYI : Mostly all HOST CMDs can be executed in single channel mode</span></div>
<div class="line"><span class="lineno"> 1068</span><span class="comment">         * except system reset cmd */</span></div>
<div class="line"><span class="lineno"> 1069</span>        status = <a class="code hl_function" href="a00122.html#a94d0e38dc635120ceae66e295cb5beff">FT4222_SPIMaster_MultiReadWrite</a>(</div>
<div class="line"><span class="lineno"> 1070</span>            phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>,</div>
<div class="line"><span class="lineno"> 1071</span>            &amp;dummyRead,</div>
<div class="line"><span class="lineno"> 1072</span>            transferArray,</div>
<div class="line"><span class="lineno"> 1073</span>            0,</div>
<div class="line"><span class="lineno"> 1074</span>            <span class="keyword">sizeof</span>(transferArray),</div>
<div class="line"><span class="lineno"> 1075</span>            0,</div>
<div class="line"><span class="lineno"> 1076</span>            &amp;sizeOfRead);</div>
<div class="line"><span class="lineno"> 1077</span>        <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a> != status)</div>
<div class="line"><span class="lineno"> 1078</span>        {</div>
<div class="line"><span class="lineno"> 1079</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;SPI write failed = %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno"> 1080</span>            phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> = <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ade672f60908477052ed1b71e1a6c9a32">EVE_STATUS_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1081</span>        }</div>
<div class="line"><span class="lineno"> 1082</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1083</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1084</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;No transfer\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1085</span>    }</div>
<div class="line"><span class="lineno"> 1086</span>}</div>
<div class="ttc" id="aa00086_html_a273cf69d639a59973b6019625df33e30"><div class="ttname"><a href="a00086.html#a273cf69d639a59973b6019625df33e30">uint16_t</a></div><div class="ttdeci">unsigned short uint16_t</div><div class="ttdef"><b>Definition</b> <a href="a00086_source.html#l00041">EVE_IntTypes_MSVC12.h:41</a></div></div>
<div class="ttc" id="aa00086_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition</b> <a href="a00086_source.html#l00040">EVE_IntTypes_MSVC12.h:40</a></div></div>
<div class="ttc" id="aa00122_html_a94d0e38dc635120ceae66e295cb5beff"><div class="ttname"><a href="a00122.html#a94d0e38dc635120ceae66e295cb5beff">FT4222_SPIMaster_MultiReadWrite</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_SPIMaster_MultiReadWrite(FT_HANDLE ftHandle, uint8 *readBuffer, uint8 *writeBuffer, uint8 singleWriteBytes, uint16 multiWriteBytes, uint16 multiReadBytes, uint32 *sizeOfRead)</div></div>
<div class="ttc" id="aa00122_html_aed7f937b6157ea1a542c99681c105873"><div class="ttname"><a href="a00122.html#aed7f937b6157ea1a542c99681c105873">FT4222_SPIMaster_SingleWrite</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_SPIMaster_SingleWrite(FT_HANDLE ftHandle, uint8 *buffer, uint16 bufferSize, uint16 *sizeTransferred, BOOL isEndTransaction)</div></div>
<div class="ttc" id="aa00198_html_a65abc40d6f2b248bc0e7561e6bca7a07"><div class="ttname"><a href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">EVE_HalContext::SpiHandle</a></div><div class="ttdeci">void * SpiHandle</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00216">EVE_HalDefs.h:216</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ce48cbe05ee203513f69ec2493b282f" name="a9ce48cbe05ee203513f69ec2493b282f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce48cbe05ee203513f69ec2493b282f">&#9670;&#160;</a></span>EVE_Hal_startTransfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVE_Hal_startTransfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00068.html#a427d04762f17f5f228ec5669d0448ef6">EVE_TRANSFER_T</a></td>          <td class="paramname"><span class="paramname"><em>rw</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>addr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start data transfer to Coprocessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">rw</td><td>Read or Write </td></tr>
    <tr><td class="paramname">addr</td><td>Address to read/write </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00827">827</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  828</span>{</div>
<div class="line"><span class="lineno">  829</span>    <a class="code hl_define" href="a00101.html#a1b23dd5646ab44acdb54bda108ca76fa">eve_assert</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> == <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ad69e8b7fc9e94116000173d227e5cbf8">EVE_STATUS_OPENED</a>);</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>    <span class="keywordflow">if</span> (addr != <a class="code hl_function" href="#a5ce4c3c0101e945f306d5dae105988ae">incrementRamGAddr</a>(phost, phost-&gt;<a class="code hl_variable" href="a00198.html#a59906f64e8c5887616b0db4c30b33cb2">SpiRamGAddr</a>, phost-&gt;<a class="code hl_variable" href="a00198.html#ae38be80bc651abca8bb6dad85517000b">SpiWrBufIndex</a>) || rw == <a class="code hl_enumvalue" href="a00068.html#a427d04762f17f5f228ec5669d0448ef6a83b2c26ac8917f789043f07289651058">EVE_TRANSFER_READ</a>)</div>
<div class="line"><span class="lineno">  832</span>    {</div>
<div class="line"><span class="lineno">  833</span>        <span class="comment">/* Close any write transfer that was left open, if the address changed */</span></div>
<div class="line"><span class="lineno">  834</span>        <a class="code hl_function" href="#afb74cba236df2fd69448d11f4e02d024">flush</a>(phost);</div>
<div class="line"><span class="lineno">  835</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#a59906f64e8c5887616b0db4c30b33cb2">SpiRamGAddr</a> = addr;</div>
<div class="line"><span class="lineno">  836</span>    }</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>    <span class="keywordflow">if</span> (phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> != <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ade672f60908477052ed1b71e1a6c9a32">EVE_STATUS_ERROR</a>)</div>
<div class="line"><span class="lineno">  839</span>    {</div>
<div class="line"><span class="lineno">  840</span>        <span class="keywordflow">if</span> (rw == <a class="code hl_enumvalue" href="a00068.html#a427d04762f17f5f228ec5669d0448ef6a83b2c26ac8917f789043f07289651058">EVE_TRANSFER_READ</a>)</div>
<div class="line"><span class="lineno">  841</span>            phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> = <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571a78eb430182c84693b6e061f6deff30a5">EVE_STATUS_READING</a>;</div>
<div class="line"><span class="lineno">  842</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  843</span>            phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> = <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ae9efa17f14567a70761b4ad241d59bb7">EVE_STATUS_WRITING</a>;</div>
<div class="line"><span class="lineno">  844</span>    }</div>
<div class="line"><span class="lineno">  845</span>}</div>
<div class="ttc" id="aa00074_html_a5ce4c3c0101e945f306d5dae105988ae"><div class="ttname"><a href="#a5ce4c3c0101e945f306d5dae105988ae">incrementRamGAddr</a></div><div class="ttdeci">static uint32_t incrementRamGAddr(EVE_HalContext *phost, uint32_t addr, uint32_t inc)</div><div class="ttdoc">Increase RAM_G adress.</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00513">EVE_HalImpl_FT4222.c:513</a></div></div>
<div class="ttc" id="aa00198_html_ae38be80bc651abca8bb6dad85517000b"><div class="ttname"><a href="a00198.html#ae38be80bc651abca8bb6dad85517000b">EVE_HalContext::SpiWrBufIndex</a></div><div class="ttdeci">uint32_t SpiWrBufIndex</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00242">EVE_HalDefs.h:242</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afbb284fc468b20bf6dc91b255188e93d" name="afbb284fc468b20bf6dc91b255188e93d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbb284fc468b20bf6dc91b255188e93d">&#9670;&#160;</a></span>EVE_Hal_transfer32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> EVE_Hal_transfer32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write 4 bytes to Coprocessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">value</td><td>Value to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> Number of bytes transfered </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00907">907</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  908</span>{</div>
<div class="line"><span class="lineno">  909</span>    <a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> buffer[4];</div>
<div class="line"><span class="lineno">  910</span>    <span class="keywordflow">if</span> (phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> == <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571a78eb430182c84693b6e061f6deff30a5">EVE_STATUS_READING</a>)</div>
<div class="line"><span class="lineno">  911</span>    {</div>
<div class="line"><span class="lineno">  912</span>        <a class="code hl_function" href="#a50b31366af31487a35d8c3b8dbb542ce">rdBuffer</a>(phost, buffer, 4);</div>
<div class="line"><span class="lineno">  913</span>        <span class="keywordflow">return</span> (<a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)buffer[0]</div>
<div class="line"><span class="lineno">  914</span>            | (<a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)buffer[1] &lt;&lt; 8</div>
<div class="line"><span class="lineno">  915</span>            | (<a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)buffer[2] &lt;&lt; 16</div>
<div class="line"><span class="lineno">  916</span>            | (<a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)buffer[3] &lt;&lt; 24;</div>
<div class="line"><span class="lineno">  917</span>    }</div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  919</span>    {</div>
<div class="line"><span class="lineno">  920</span>        buffer[0] = value &amp; 0xFF;</div>
<div class="line"><span class="lineno">  921</span>        buffer[1] = (value &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  922</span>        buffer[2] = (value &gt;&gt; 16) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  923</span>        buffer[3] = value &gt;&gt; 24;</div>
<div class="line"><span class="lineno">  924</span>        <a class="code hl_function" href="#a323ac93b2c405f79e30fd3a9c0864977">wrBuffer</a>(phost, buffer, 4);</div>
<div class="line"><span class="lineno">  925</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  926</span>    }</div>
<div class="line"><span class="lineno">  927</span>}</div>
<div class="ttc" id="aa00074_html_a323ac93b2c405f79e30fd3a9c0864977"><div class="ttname"><a href="#a323ac93b2c405f79e30fd3a9c0864977">wrBuffer</a></div><div class="ttdeci">static bool wrBuffer(EVE_HalContext *phost, const uint8_t *buffer, uint32_t size)</div><div class="ttdoc">Write a block data to Coprocessor.</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00689">EVE_HalImpl_FT4222.c:689</a></div></div>
<div class="ttc" id="aa00074_html_a50b31366af31487a35d8c3b8dbb542ce"><div class="ttname"><a href="#a50b31366af31487a35d8c3b8dbb542ce">rdBuffer</a></div><div class="ttdeci">static bool rdBuffer(EVE_HalContext *phost, uint8_t *buffer, uint32_t size)</div><div class="ttdoc">Read a block data from Coprocessor.</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00534">EVE_HalImpl_FT4222.c:534</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a989304d649fbe1713d5dc879cbf97925" name="a989304d649fbe1713d5dc879cbf97925"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989304d649fbe1713d5dc879cbf97925">&#9670;&#160;</a></span>EVE_Hal_transferMem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVE_Hal_transferMem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *</td>          <td class="paramname"><span class="paramname"><em>result</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer (read/write) a block data to Coprocessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">result</td><td>Buffer to get data transfered, NULL when write </td></tr>
    <tr><td class="paramname">buffer</td><td>Buffer where data is transfered, NULL when read </td></tr>
    <tr><td class="paramname">size</td><td>Size of buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00937">937</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  938</span>{</div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordflow">if</span> (!size)</div>
<div class="line"><span class="lineno">  940</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  941</span> </div>
<div class="line"><span class="lineno">  942</span>    <span class="keywordflow">if</span> (result &amp;&amp; buffer)</div>
<div class="line"><span class="lineno">  943</span>    {</div>
<div class="line"><span class="lineno">  944</span>        <span class="comment">/* not implemented */</span></div>
<div class="line"><span class="lineno">  945</span>        <a class="code hl_define" href="a00101.html#aeae0bc3138b1309d33fc732c6d838875">eve_debug_break</a>();</div>
<div class="line"><span class="lineno">  946</span>    }</div>
<div class="line"><span class="lineno">  947</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result)</div>
<div class="line"><span class="lineno">  948</span>    {</div>
<div class="line"><span class="lineno">  949</span>        <a class="code hl_function" href="#a50b31366af31487a35d8c3b8dbb542ce">rdBuffer</a>(phost, result, size);</div>
<div class="line"><span class="lineno">  950</span>    }</div>
<div class="line"><span class="lineno">  951</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (buffer)</div>
<div class="line"><span class="lineno">  952</span>    {</div>
<div class="line"><span class="lineno">  953</span>        <a class="code hl_function" href="#a323ac93b2c405f79e30fd3a9c0864977">wrBuffer</a>(phost, buffer, size);</div>
<div class="line"><span class="lineno">  954</span>    }</div>
<div class="line"><span class="lineno">  955</span>}</div>
<div class="ttc" id="aa00101_html_aeae0bc3138b1309d33fc732c6d838875"><div class="ttname"><a href="a00101.html#aeae0bc3138b1309d33fc732c6d838875">eve_debug_break</a></div><div class="ttdeci">#define eve_debug_break()</div><div class="ttdef"><b>Definition</b> <a href="a00101_source.html#l00078">EVE_Platform.h:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a186a150494cae74e2b146c7a23e409e4" name="a186a150494cae74e2b146c7a23e409e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a186a150494cae74e2b146c7a23e409e4">&#9670;&#160;</a></span>EVE_Hal_transferString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> EVE_Hal_transferString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>padMask</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer a string to EVE platform. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">str</td><td>String to transfer </td></tr>
    <tr><td class="paramname">index</td><td>Start position in the string </td></tr>
    <tr><td class="paramname">size</td><td>Size of string </td></tr>
    <tr><td class="paramname">padMask</td><td>Padding mask </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> Numer of bytes transfered </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00967">967</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  968</span>{</div>
<div class="line"><span class="lineno">  969</span>    <a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> transferred;</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>    <span class="keywordflow">if</span> (!size)</div>
<div class="line"><span class="lineno">  972</span>    {</div>
<div class="line"><span class="lineno">  973</span>        <span class="comment">/* TODO: Support different padding options */</span></div>
<div class="line"><span class="lineno">  974</span>        <a class="code hl_define" href="a00101.html#a1b23dd5646ab44acdb54bda108ca76fa">eve_assert</a>(padMask == 0x3);</div>
<div class="line"><span class="lineno">  975</span>        <a class="code hl_function" href="#afbb284fc468b20bf6dc91b255188e93d">EVE_Hal_transfer32</a>(phost, 0);</div>
<div class="line"><span class="lineno">  976</span>        <span class="keywordflow">return</span> 4;</div>
<div class="line"><span class="lineno">  977</span>    }</div>
<div class="line"><span class="lineno">  978</span> </div>
<div class="line"><span class="lineno">  979</span>    <a class="code hl_define" href="a00101.html#a1b23dd5646ab44acdb54bda108ca76fa">eve_assert</a>(size &lt;= <a class="code hl_define" href="a00071.html#afb254ac926ccaa5d106dce051b16a43a">EVE_CMD_STRING_MAX</a>);</div>
<div class="line"><span class="lineno">  980</span>    transferred = 0;</div>
<div class="line"><span class="lineno">  981</span>    <span class="keywordflow">if</span> (phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> == <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ae9efa17f14567a70761b4ad241d59bb7">EVE_STATUS_WRITING</a>)</div>
<div class="line"><span class="lineno">  982</span>    {</div>
<div class="line"><span class="lineno">  983</span>        <a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> buffer[<a class="code hl_define" href="a00071.html#afb254ac926ccaa5d106dce051b16a43a">EVE_CMD_STRING_MAX</a> + 1];</div>
<div class="line"><span class="lineno">  984</span> </div>
<div class="line"><span class="lineno">  985</span>        <span class="keywordflow">for</span> (;;)</div>
<div class="line"><span class="lineno">  986</span>        {</div>
<div class="line"><span class="lineno">  987</span>            <span class="keywordtype">char</span> <a class="code hl_variable" href="a00002.html#aaf5d342e977c5857e99310eea0e72e4b">c</a> = str[index + (transferred)];</div>
<div class="line"><span class="lineno">  988</span>            buffer[transferred++] = <a class="code hl_variable" href="a00002.html#aaf5d342e977c5857e99310eea0e72e4b">c</a>;</div>
<div class="line"><span class="lineno">  989</span>            <span class="comment">// putchar(c ? c : &#39;_&#39;);</span></div>
<div class="line"><span class="lineno">  990</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="a00002.html#aaf5d342e977c5857e99310eea0e72e4b">c</a>)</div>
<div class="line"><span class="lineno">  991</span>            {</div>
<div class="line"><span class="lineno">  992</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  993</span>            }</div>
<div class="line"><span class="lineno">  994</span>            <span class="keywordflow">if</span> (transferred &gt;= size)</div>
<div class="line"><span class="lineno">  995</span>            {</div>
<div class="line"><span class="lineno">  996</span>                buffer[transferred++] = 0;</div>
<div class="line"><span class="lineno">  997</span>                <span class="comment">// putchar(&#39;_&#39;);</span></div>
<div class="line"><span class="lineno">  998</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  999</span>            }</div>
<div class="line"><span class="lineno"> 1000</span>        }</div>
<div class="line"><span class="lineno"> 1001</span>        <span class="keywordflow">while</span> (transferred &amp; padMask)</div>
<div class="line"><span class="lineno"> 1002</span>        {</div>
<div class="line"><span class="lineno"> 1003</span>            buffer[transferred++] = 0;</div>
<div class="line"><span class="lineno"> 1004</span>            <span class="comment">// putchar(&#39;_&#39;);</span></div>
<div class="line"><span class="lineno"> 1005</span>        }</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>        <a class="code hl_define" href="a00101.html#a1b23dd5646ab44acdb54bda108ca76fa">eve_assert</a>(transferred);</div>
<div class="line"><span class="lineno"> 1008</span> </div>
<div class="line"><span class="lineno"> 1009</span>        <a class="code hl_function" href="#a323ac93b2c405f79e30fd3a9c0864977">wrBuffer</a>(phost, buffer, transferred);</div>
<div class="line"><span class="lineno"> 1010</span>    }</div>
<div class="line"><span class="lineno"> 1011</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1012</span>    {</div>
<div class="line"><span class="lineno"> 1013</span>        <span class="comment">/* not implemented */</span></div>
<div class="line"><span class="lineno"> 1014</span>        <a class="code hl_define" href="a00101.html#aeae0bc3138b1309d33fc732c6d838875">eve_debug_break</a>();</div>
<div class="line"><span class="lineno"> 1015</span>    }</div>
<div class="line"><span class="lineno"> 1016</span>    <span class="keywordflow">return</span> transferred;</div>
<div class="line"><span class="lineno"> 1017</span>}</div>
<div class="ttc" id="aa00002_html_aaf5d342e977c5857e99310eea0e72e4b"><div class="ttname"><a href="a00002.html#aaf5d342e977c5857e99310eea0e72e4b">c</a></div><div class="ttdeci">static uint32_t c</div><div class="ttdef"><b>Definition</b> <a href="a00002_source.html#l00037">Common.c:37</a></div></div>
<div class="ttc" id="aa00071_html_afb254ac926ccaa5d106dce051b16a43a"><div class="ttname"><a href="a00071.html#afb254ac926ccaa5d106dce051b16a43a">EVE_CMD_STRING_MAX</a></div><div class="ttdeci">#define EVE_CMD_STRING_MAX</div><div class="ttdef"><b>Definition</b> <a href="a00071_source.html#l00048">EVE_HalImpl.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a78d04e23ea4be3cafefc66e527a4773a" name="a78d04e23ea4be3cafefc66e527a4773a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78d04e23ea4be3cafefc66e527a4773a">&#9670;&#160;</a></span>EVE_HalImpl_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVE_HalImpl_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a HAL context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00466">466</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  467</span>{</div>
<div class="line"><span class="lineno">  468</span>    <a class="code hl_enumeration" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35">FT4222_STATUS</a> status;</div>
<div class="line"><span class="lineno">  469</span>    phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> = <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571aae473c6e20371fe004d4b50ba6371353">EVE_STATUS_CLOSED</a>;</div>
<div class="line"><span class="lineno">  470</span>    --<a class="code hl_variable" href="a00059.html#a0916c70fa867e6f4640d0f9af95aee3f">g_HalPlatform</a>.OpenedDevices;</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">if</span> ((status = <a class="code hl_function" href="a00122.html#a0f4afecc30529f2d7e8b2dd9f9a6a05b">FT4222_UnInitialize</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>)) != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno">  473</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_UnInitialize failed %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">if</span> ((status = <a class="code hl_function" href="a00122.html#a0f4afecc30529f2d7e8b2dd9f9a6a05b">FT4222_UnInitialize</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a>)) != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno">  476</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_UnInitialize failed %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">if</span> ((status = <a class="code hl_function" href="a00119.html#a62c31590fa78d9fe4e46fc1fbc71ce7e">FT_Close</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>)) != <a class="code hl_enumvalue" href="a00119.html#a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3">FT_OK</a>)</div>
<div class="line"><span class="lineno">  479</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;CLOSE failed %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordflow">if</span> ((status = <a class="code hl_function" href="a00119.html#a62c31590fa78d9fe4e46fc1fbc71ce7e">FT_Close</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a>)) != <a class="code hl_enumvalue" href="a00119.html#a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3">FT_OK</a>)</div>
<div class="line"><span class="lineno">  482</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;CLOSE failed %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno">  483</span>}</div>
<div class="ttc" id="aa00059_html_a0916c70fa867e6f4640d0f9af95aee3f"><div class="ttname"><a href="a00059.html#a0916c70fa867e6f4640d0f9af95aee3f">g_HalPlatform</a></div><div class="ttdeci">EVE_HalPlatform g_HalPlatform</div><div class="ttdef"><b>Definition</b> <a href="a00059_source.html#l00037">EVE_Hal.c:37</a></div></div>
<div class="ttc" id="aa00068_html_a0b522eda2f71f75e89a78ef13ac15571aae473c6e20371fe004d4b50ba6371353"><div class="ttname"><a href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571aae473c6e20371fe004d4b50ba6371353">EVE_STATUS_CLOSED</a></div><div class="ttdeci">@ EVE_STATUS_CLOSED</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00057">EVE_HalDefs.h:57</a></div></div>
<div class="ttc" id="aa00119_html_a62c31590fa78d9fe4e46fc1fbc71ce7e"><div class="ttname"><a href="a00119.html#a62c31590fa78d9fe4e46fc1fbc71ce7e">FT_Close</a></div><div class="ttdeci">FTD2XX_API FT_STATUS WINAPI FT_Close(FT_HANDLE ftHandle)</div></div>
<div class="ttc" id="aa00119_html_a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3"><div class="ttname"><a href="a00119.html#a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3">FT_OK</a></div><div class="ttdeci">@ FT_OK</div><div class="ttdef"><b>Definition</b> <a href="a00119_source.html#l00084">ftd2xx.h:84</a></div></div>
<div class="ttc" id="aa00122_html_a0f4afecc30529f2d7e8b2dd9f9a6a05b"><div class="ttname"><a href="a00122.html#a0f4afecc30529f2d7e8b2dd9f9a6a05b">FT4222_UnInitialize</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_UnInitialize(FT_HANDLE ftHandle)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5841adf062ce90f542b984f426e8970a" name="a5841adf062ce90f542b984f426e8970a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5841adf062ce90f542b984f426e8970a">&#9670;&#160;</a></span>EVE_HalImpl_defaults()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a> EVE_HalImpl_defaults </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00194.html">EVE_HalParameters</a> *</td>          <td class="paramname"><span class="paramname"><em>parameters</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>deviceIdx</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the default configuration parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>EVE_Hal framework's parameters </td></tr>
    <tr><td class="paramname">deviceIdx</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true True if ok </dd>
<dd>
false False if error </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00121">121</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>{</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordtype">bool</span> res = deviceIdx &gt;= 0 &amp;&amp; deviceIdx &lt; <a class="code hl_variable" href="#a9b2e046e3c9a655e83cee86a84f145ea">s_NumDevsD2XX</a>;</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">if</span> (!res)</div>
<div class="line"><span class="lineno">  125</span>    {</div>
<div class="line"><span class="lineno">  126</span>        <a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> i;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a9b2e046e3c9a655e83cee86a84f145ea">s_NumDevsD2XX</a>)</div>
<div class="line"><span class="lineno">  129</span>            <a class="code hl_function" href="#ac8386b43bb5a25e8b9913905aac30f6e">EVE_Hal_list</a>();</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>        <span class="comment">// Select first open device</span></div>
<div class="line"><span class="lineno">  132</span>        deviceIdx = 0;</div>
<div class="line"><span class="lineno">  133</span>        <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_variable" href="#a9b2e046e3c9a655e83cee86a84f145ea">s_NumDevsD2XX</a>; ++i)</div>
<div class="line"><span class="lineno">  134</span>        {</div>
<div class="line"><span class="lineno">  135</span>            <a class="code hl_typedef" href="a00119.html#aaccdbb85a8514492c0956fc3273f3289">FT_DEVICE_LIST_INFO_NODE</a> devInfo;</div>
<div class="line"><span class="lineno">  136</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="a00119.html#a83370dba4c6c26ae0cb2cd8a58db18e1">FT_GetDeviceInfoDetail</a>((<a class="code hl_typedef" href="a00128.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a>)i,</div>
<div class="line"><span class="lineno">  137</span>                    &amp;devInfo.<a class="code hl_variable" href="a00298.html#a721b47fa89702eff50b231f17c4298e6">Flags</a>, &amp;devInfo.<a class="code hl_variable" href="a00298.html#aa764a1406eb904ad4444a82f2f950b4e">Type</a>, &amp;devInfo.<a class="code hl_variable" href="a00298.html#a6f486d775e8b49190ec48e99cdbdcbe5">ID</a>, &amp;devInfo.<a class="code hl_variable" href="a00298.html#a11f8898a6bc9a91abadb14c02cac4394">LocId</a>,</div>
<div class="line"><span class="lineno">  138</span>                    devInfo.<a class="code hl_variable" href="a00298.html#a8cd158ee3ee8f3cc63c24f0479184f5d">SerialNumber</a>, devInfo.<a class="code hl_variable" href="a00298.html#abd835f2f4961fc15d522337997805c55">Description</a>, &amp;devInfo.<a class="code hl_variable" href="a00298.html#a3a26fc5e6180c4f87dec4ebf1951d100">ftHandle</a>)</div>
<div class="line"><span class="lineno">  139</span>                != <a class="code hl_enumvalue" href="a00119.html#a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3">FT_OK</a>)</div>
<div class="line"><span class="lineno">  140</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  141</span>            <span class="keywordflow">if</span> ((!(devInfo.<a class="code hl_variable" href="a00298.html#a721b47fa89702eff50b231f17c4298e6">Flags</a> &amp; <a class="code hl_enumvalue" href="a00119.html#aaf6b3e2e28e81b1594ae282a969b3708ad7c65505edafca0fa22c4b1618526153">FT_FLAGS_OPENED</a>)) &amp;&amp; (!strcmp(devInfo.<a class="code hl_variable" href="a00298.html#abd835f2f4961fc15d522337997805c55">Description</a>, <span class="stringliteral">&quot;FT4222 A&quot;</span>)))</div>
<div class="line"><span class="lineno">  142</span>            {</div>
<div class="line"><span class="lineno">  143</span>                deviceIdx = i;</div>
<div class="line"><span class="lineno">  144</span>                res = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  145</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  146</span>            }</div>
<div class="line"><span class="lineno">  147</span>        }</div>
<div class="line"><span class="lineno">  148</span>    }</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    parameters-&gt;<a class="code hl_variable" href="a00194.html#ac4d572fbf58fb797b519df35433d2057">DeviceIdx</a> = (<a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>)deviceIdx;</div>
<div class="line"><span class="lineno">  151</span>    parameters-&gt;<a class="code hl_variable" href="a00194.html#ae0130f8667b1e15d0fa6c0900839319c">PowerDownPin</a> = <a class="code hl_enumvalue" href="a00122.html#af164c756418dde00ac07fd47d0962150a843499d19905fc3012331e35eb0a5da7">GPIO_PORT0</a>;</div>
<div class="line"><span class="lineno">  152</span>    parameters-&gt;<a class="code hl_variable" href="a00194.html#afd7fd761905e9b008e7c2af27d381759">SpiCsPin</a> = 1;</div>
<div class="line"><span class="lineno">  153</span>    parameters-&gt;<a class="code hl_variable" href="a00194.html#a8de93ce966b791980acfb859499af71a">SpiClockrateKHz</a> = 15000;</div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  155</span>}</div>
<div class="ttc" id="aa00074_html_ac8386b43bb5a25e8b9913905aac30f6e"><div class="ttname"><a href="#ac8386b43bb5a25e8b9913905aac30f6e">EVE_Hal_list</a></div><div class="ttdeci">size_t EVE_Hal_list()</div><div class="ttdoc">List the available devices.</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00106">EVE_HalImpl_FT4222.c:106</a></div></div>
<div class="ttc" id="aa00119_html_a83370dba4c6c26ae0cb2cd8a58db18e1"><div class="ttname"><a href="a00119.html#a83370dba4c6c26ae0cb2cd8a58db18e1">FT_GetDeviceInfoDetail</a></div><div class="ttdeci">FTD2XX_API FT_STATUS WINAPI FT_GetDeviceInfoDetail(DWORD dwIndex, LPDWORD lpdwFlags, LPDWORD lpdwType, LPDWORD lpdwID, LPDWORD lpdwLocId, LPVOID lpSerialNumber, LPVOID lpDescription, FT_HANDLE *pftHandle)</div></div>
<div class="ttc" id="aa00119_html_aaccdbb85a8514492c0956fc3273f3289"><div class="ttname"><a href="a00119.html#aaccdbb85a8514492c0956fc3273f3289">FT_DEVICE_LIST_INFO_NODE</a></div><div class="ttdeci">struct _ft_device_list_info_node FT_DEVICE_LIST_INFO_NODE</div></div>
<div class="ttc" id="aa00119_html_aaf6b3e2e28e81b1594ae282a969b3708ad7c65505edafca0fa22c4b1618526153"><div class="ttname"><a href="a00119.html#aaf6b3e2e28e81b1594ae282a969b3708ad7c65505edafca0fa22c4b1618526153">FT_FLAGS_OPENED</a></div><div class="ttdeci">@ FT_FLAGS_OPENED</div><div class="ttdef"><b>Definition</b> <a href="a00119_source.html#l01526">ftd2xx.h:1526</a></div></div>
<div class="ttc" id="aa00122_html_af164c756418dde00ac07fd47d0962150a843499d19905fc3012331e35eb0a5da7"><div class="ttname"><a href="a00122.html#af164c756418dde00ac07fd47d0962150a843499d19905fc3012331e35eb0a5da7">GPIO_PORT0</a></div><div class="ttdeci">@ GPIO_PORT0</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00250">LibFT4222.h:250</a></div></div>
<div class="ttc" id="aa00128_html_a798af1e30bc65f319c1a246cecf59e39"><div class="ttname"><a href="a00128.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a></div><div class="ttdeci">unsigned int DWORD</div><div class="ttdef"><b>Definition</b> <a href="a00128_source.html#l00038">WinTypes.h:38</a></div></div>
<div class="ttc" id="aa00194_html_ac4d572fbf58fb797b519df35433d2057"><div class="ttname"><a href="a00194.html#ac4d572fbf58fb797b519df35433d2057">EVE_HalParameters::DeviceIdx</a></div><div class="ttdeci">uint32_t DeviceIdx</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00174">EVE_HalDefs.h:174</a></div></div>
<div class="ttc" id="aa00194_html_ae0130f8667b1e15d0fa6c0900839319c"><div class="ttname"><a href="a00194.html#ae0130f8667b1e15d0fa6c0900839319c">EVE_HalParameters::PowerDownPin</a></div><div class="ttdeci">uint8_t PowerDownPin</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00179">EVE_HalDefs.h:179</a></div></div>
<div class="ttc" id="aa00194_html_afd7fd761905e9b008e7c2af27d381759"><div class="ttname"><a href="a00194.html#afd7fd761905e9b008e7c2af27d381759">EVE_HalParameters::SpiCsPin</a></div><div class="ttdeci">uint8_t SpiCsPin</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00175">EVE_HalDefs.h:175</a></div></div>
<div class="ttc" id="aa00298_html_a11f8898a6bc9a91abadb14c02cac4394"><div class="ttname"><a href="a00298.html#a11f8898a6bc9a91abadb14c02cac4394">_ft_device_list_info_node::LocId</a></div><div class="ttdeci">DWORD LocId</div><div class="ttdef"><b>Definition</b> <a href="a00119_source.html#l01518">ftd2xx.h:1518</a></div></div>
<div class="ttc" id="aa00298_html_a3a26fc5e6180c4f87dec4ebf1951d100"><div class="ttname"><a href="a00298.html#a3a26fc5e6180c4f87dec4ebf1951d100">_ft_device_list_info_node::ftHandle</a></div><div class="ttdeci">FT_HANDLE ftHandle</div><div class="ttdef"><b>Definition</b> <a href="a00119_source.html#l01521">ftd2xx.h:1521</a></div></div>
<div class="ttc" id="aa00298_html_a6f486d775e8b49190ec48e99cdbdcbe5"><div class="ttname"><a href="a00298.html#a6f486d775e8b49190ec48e99cdbdcbe5">_ft_device_list_info_node::ID</a></div><div class="ttdeci">ULONG ID</div><div class="ttdef"><b>Definition</b> <a href="a00119_source.html#l01517">ftd2xx.h:1517</a></div></div>
<div class="ttc" id="aa00298_html_a721b47fa89702eff50b231f17c4298e6"><div class="ttname"><a href="a00298.html#a721b47fa89702eff50b231f17c4298e6">_ft_device_list_info_node::Flags</a></div><div class="ttdeci">ULONG Flags</div><div class="ttdef"><b>Definition</b> <a href="a00119_source.html#l01515">ftd2xx.h:1515</a></div></div>
<div class="ttc" id="aa00298_html_a8cd158ee3ee8f3cc63c24f0479184f5d"><div class="ttname"><a href="a00298.html#a8cd158ee3ee8f3cc63c24f0479184f5d">_ft_device_list_info_node::SerialNumber</a></div><div class="ttdeci">char SerialNumber[16]</div><div class="ttdef"><b>Definition</b> <a href="a00119_source.html#l01519">ftd2xx.h:1519</a></div></div>
<div class="ttc" id="aa00298_html_aa764a1406eb904ad4444a82f2f950b4e"><div class="ttname"><a href="a00298.html#aa764a1406eb904ad4444a82f2f950b4e">_ft_device_list_info_node::Type</a></div><div class="ttdeci">ULONG Type</div><div class="ttdef"><b>Definition</b> <a href="a00119_source.html#l01516">ftd2xx.h:1516</a></div></div>
<div class="ttc" id="aa00298_html_abd835f2f4961fc15d522337997805c55"><div class="ttname"><a href="a00298.html#abd835f2f4961fc15d522337997805c55">_ft_device_list_info_node::Description</a></div><div class="ttdeci">char Description[64]</div><div class="ttdef"><b>Definition</b> <a href="a00119_source.html#l01520">ftd2xx.h:1520</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5cf27d92943249c6d17cc2c6dba9613" name="ad5cf27d92943249c6d17cc2c6dba9613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5cf27d92943249c6d17cc2c6dba9613">&#9670;&#160;</a></span>EVE_HalImpl_idle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVE_HalImpl_idle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Idle. Call regularly to update frequently changing internal state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00490">490</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  491</span>{</div>
<div class="line"><span class="lineno">  492</span>    <span class="comment">/* no-op */</span></div>
<div class="line"><span class="lineno">  493</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaba90ac16916676c4b4d6e833899af17" name="aaba90ac16916676c4b4d6e833899af17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba90ac16916676c4b4d6e833899af17">&#9670;&#160;</a></span>EVE_HalImpl_initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVE_HalImpl_initialize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize HAL platform. </p>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00056">56</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>{</div>
<div class="line"><span class="lineno">   58</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">   59</span>    <a class="code hl_typedef" href="a00119.html#aaccdbb85a8514492c0956fc3273f3289">FT_DEVICE_LIST_INFO_NODE</a> devList;</div>
<div class="line"><span class="lineno">   60</span>    <a class="code hl_typedef" href="a00119.html#a61e5e58382c1d302533317f81d6bc781">FT_STATUS</a> status;</div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> numdevs;</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>    status = <a class="code hl_function" href="a00119.html#a8d452a978313dbebcc600a5b1c3cbf65">FT_CreateDeviceInfoList</a>(&amp;numdevs);</div>
<div class="line"><span class="lineno">   64</span>    <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="a00119.html#a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3">FT_OK</a> == status)</div>
<div class="line"><span class="lineno">   65</span>    {</div>
<div class="line"><span class="lineno">   66</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Number of D2xx devices connected = %d\n&quot;</span>, numdevs);</div>
<div class="line"><span class="lineno">   67</span>        <span class="comment">// TODO: g_HalPlatform.TotalDevices = numdevs;</span></div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>        <a class="code hl_function" href="a00119.html#a83370dba4c6c26ae0cb2cd8a58db18e1">FT_GetDeviceInfoDetail</a>(0, &amp;devList.<a class="code hl_variable" href="a00298.html#a721b47fa89702eff50b231f17c4298e6">Flags</a>, &amp;devList.<a class="code hl_variable" href="a00298.html#aa764a1406eb904ad4444a82f2f950b4e">Type</a>, &amp;devList.<a class="code hl_variable" href="a00298.html#a6f486d775e8b49190ec48e99cdbdcbe5">ID</a>,</div>
<div class="line"><span class="lineno">   70</span>            &amp;devList.<a class="code hl_variable" href="a00298.html#a11f8898a6bc9a91abadb14c02cac4394">LocId</a>,</div>
<div class="line"><span class="lineno">   71</span>            devList.<a class="code hl_variable" href="a00298.html#a8cd158ee3ee8f3cc63c24f0479184f5d">SerialNumber</a>,</div>
<div class="line"><span class="lineno">   72</span>            devList.<a class="code hl_variable" href="a00298.html#abd835f2f4961fc15d522337997805c55">Description</a>,</div>
<div class="line"><span class="lineno">   73</span>            &amp;devList.<a class="code hl_variable" href="a00298.html#a3a26fc5e6180c4f87dec4ebf1951d100">ftHandle</a>);</div>
<div class="line"><span class="lineno">   74</span>    }</div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   76</span>    {</div>
<div class="line"><span class="lineno">   77</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT_CreateDeviceInfoList failed&quot;</span>);</div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   79</span>    }</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Information on channel number %d:\n&quot;</span>, 0);</div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">/* print the dev info */</span></div>
<div class="line"><span class="lineno">   83</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot; Flags=0x%x\n&quot;</span>, devList.<a class="code hl_variable" href="a00298.html#a721b47fa89702eff50b231f17c4298e6">Flags</a>);</div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot; Type=0x%x\n&quot;</span>, devList.Host);</div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot; ID=0x%x\n&quot;</span>, devList.<a class="code hl_variable" href="a00298.html#a6f486d775e8b49190ec48e99cdbdcbe5">ID</a>);</div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot; LocId=0x%x\n&quot;</span>, devList.<a class="code hl_variable" href="a00298.html#a11f8898a6bc9a91abadb14c02cac4394">LocId</a>);</div>
<div class="line"><span class="lineno">   87</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot; SerialNumber=%s\n&quot;</span>, devList.<a class="code hl_variable" href="a00298.html#a8cd158ee3ee8f3cc63c24f0479184f5d">SerialNumber</a>);</div>
<div class="line"><span class="lineno">   88</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot; Description=%s\n&quot;</span>, devList.<a class="code hl_variable" href="a00298.html#abd835f2f4961fc15d522337997805c55">Description</a>);</div>
<div class="line"><span class="lineno">   89</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot; ftHandle=0x%p\n&quot;</span>, devList.<a class="code hl_variable" href="a00298.html#a3a26fc5e6180c4f87dec4ebf1951d100">ftHandle</a>); <span class="comment">/*is 0 unless open*/</span></div>
<div class="line"><span class="lineno">   90</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   91</span>}</div>
<div class="ttc" id="aa00119_html_a61e5e58382c1d302533317f81d6bc781"><div class="ttname"><a href="a00119.html#a61e5e58382c1d302533317f81d6bc781">FT_STATUS</a></div><div class="ttdeci">ULONG FT_STATUS</div><div class="ttdef"><b>Definition</b> <a href="a00119_source.html#l00078">ftd2xx.h:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c21f1e18893c3adfa310195e7624120" name="a1c21f1e18893c3adfa310195e7624120"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c21f1e18893c3adfa310195e7624120">&#9670;&#160;</a></span>EVE_HalImpl_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a> EVE_HalImpl_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00194.html">EVE_HalParameters</a> *</td>          <td class="paramname"><span class="paramname"><em>parameters</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a new HAL context using the specified parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">parameters</td><td>EVE_Hal framework's parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true True if ok </dd>
<dd>
false False if error </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00262">262</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  263</span>{</div>
<div class="line"><span class="lineno">  264</span>    <a class="code hl_typedef" href="a00119.html#a61e5e58382c1d302533317f81d6bc781">FT_STATUS</a> status;</div>
<div class="line"><span class="lineno">  265</span>    <a class="code hl_struct" href="a00302.html">FT4222_Version</a> pversion;</div>
<div class="line"><span class="lineno">  266</span>    <a class="code hl_enumeration" href="a00122.html#a58445dd09558817c0d5065de9cd41472">FT4222_ClockRate</a> ftclk = 0;</div>
<div class="line"><span class="lineno">  267</span>    <a class="code hl_enumeration" href="a00122.html#a58445dd09558817c0d5065de9cd41472">FT4222_ClockRate</a> selclk = 0;</div>
<div class="line"><span class="lineno">  268</span>    <a class="code hl_enumeration" href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5e">FT4222_SPIClock</a> seldiv = 0;</div>
<div class="line"><span class="lineno">  269</span>    <span class="comment">/* GPIO0         , GPIO1      , GPIO2       , GPIO3         } */</span></div>
<div class="line"><span class="lineno">  270</span>    <a class="code hl_enumeration" href="a00122.html#ab1cf256e7102efb9e94ec79d21854265">GPIO_Dir</a> gpio_dir[4] = { <a class="code hl_enumvalue" href="a00122.html#ab1cf256e7102efb9e94ec79d21854265aa248e73c1faee9c6f072fd91569cf516">GPIO_OUTPUT</a>, <a class="code hl_enumvalue" href="a00122.html#ab1cf256e7102efb9e94ec79d21854265aa1ea38ffc304a6c32480a65b5fec7302">GPIO_INPUT</a>, <a class="code hl_enumvalue" href="a00122.html#ab1cf256e7102efb9e94ec79d21854265aa1ea38ffc304a6c32480a65b5fec7302">GPIO_INPUT</a>, <a class="code hl_enumvalue" href="a00122.html#ab1cf256e7102efb9e94ec79d21854265aa1ea38ffc304a6c32480a65b5fec7302">GPIO_INPUT</a> };</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <a class="code hl_typedef" href="a00128.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> deviceIdxA = parameters-&gt;<a class="code hl_variable" href="a00194.html#ac4d572fbf58fb797b519df35433d2057">DeviceIdx</a>;</div>
<div class="line"><span class="lineno">  273</span>    <a class="code hl_typedef" href="a00119.html#aaccdbb85a8514492c0956fc3273f3289">FT_DEVICE_LIST_INFO_NODE</a> devInfoA;</div>
<div class="line"><span class="lineno">  274</span>    <a class="code hl_typedef" href="a00128.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> deviceIdxB;</div>
<div class="line"><span class="lineno">  275</span>    <a class="code hl_typedef" href="a00119.html#aaccdbb85a8514492c0956fc3273f3289">FT_DEVICE_LIST_INFO_NODE</a> devInfoB;</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordtype">bool</span> ret = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>    phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a> = phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a> = NULL;</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>    memset(&amp;devInfoA, 0, <span class="keyword">sizeof</span>(devInfoA));</div>
<div class="line"><span class="lineno">  282</span>    status = <a class="code hl_function" href="a00119.html#a83370dba4c6c26ae0cb2cd8a58db18e1">FT_GetDeviceInfoDetail</a>(deviceIdxA,</div>
<div class="line"><span class="lineno">  283</span>        &amp;devInfoA.<a class="code hl_variable" href="a00298.html#a721b47fa89702eff50b231f17c4298e6">Flags</a>, &amp;devInfoA.<a class="code hl_variable" href="a00298.html#aa764a1406eb904ad4444a82f2f950b4e">Type</a>, &amp;devInfoA.<a class="code hl_variable" href="a00298.html#a6f486d775e8b49190ec48e99cdbdcbe5">ID</a>, &amp;devInfoA.<a class="code hl_variable" href="a00298.html#a11f8898a6bc9a91abadb14c02cac4394">LocId</a>,</div>
<div class="line"><span class="lineno">  284</span>        devInfoA.<a class="code hl_variable" href="a00298.html#a8cd158ee3ee8f3cc63c24f0479184f5d">SerialNumber</a>, devInfoA.<a class="code hl_variable" href="a00298.html#abd835f2f4961fc15d522337997805c55">Description</a>, &amp;devInfoA.<a class="code hl_variable" href="a00298.html#a3a26fc5e6180c4f87dec4ebf1951d100">ftHandle</a>);</div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00119.html#a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3">FT_OK</a>)</div>
<div class="line"><span class="lineno">  286</span>    {</div>
<div class="line"><span class="lineno">  287</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT_GetDeviceInfoDetail failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  288</span>        ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  289</span>    }</div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">if</span> (devInfoA.<a class="code hl_variable" href="a00298.html#a721b47fa89702eff50b231f17c4298e6">Flags</a> &amp; <a class="code hl_enumvalue" href="a00119.html#aaf6b3e2e28e81b1594ae282a969b3708ad7c65505edafca0fa22c4b1618526153">FT_FLAGS_OPENED</a>)</div>
<div class="line"><span class="lineno">  291</span>    {</div>
<div class="line"><span class="lineno">  292</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Device FT4222 A already opened\n&quot;</span>);</div>
<div class="line"><span class="lineno">  293</span>        ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  294</span>    }</div>
<div class="line"><span class="lineno">  295</span>    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222 open &#39;%s&#39;\n&quot;</span>, devInfoA.<a class="code hl_variable" href="a00298.html#abd835f2f4961fc15d522337997805c55">Description</a>);</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><span class="lineno">  298</span>    {</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">for</span> (deviceIdxB = deviceIdxA + 1; deviceIdxB &lt; <a class="code hl_variable" href="#a9b2e046e3c9a655e83cee86a84f145ea">s_NumDevsD2XX</a>; ++deviceIdxB)</div>
<div class="line"><span class="lineno">  300</span>        {</div>
<div class="line"><span class="lineno">  301</span>            memset(&amp;devInfoB, 0, <span class="keyword">sizeof</span>(devInfoB));</div>
<div class="line"><span class="lineno">  302</span>            status = <a class="code hl_function" href="a00119.html#a83370dba4c6c26ae0cb2cd8a58db18e1">FT_GetDeviceInfoDetail</a>(deviceIdxB,</div>
<div class="line"><span class="lineno">  303</span>                &amp;devInfoB.<a class="code hl_variable" href="a00298.html#a721b47fa89702eff50b231f17c4298e6">Flags</a>, &amp;devInfoB.<a class="code hl_variable" href="a00298.html#aa764a1406eb904ad4444a82f2f950b4e">Type</a>, &amp;devInfoB.<a class="code hl_variable" href="a00298.html#a6f486d775e8b49190ec48e99cdbdcbe5">ID</a>, &amp;devInfoB.<a class="code hl_variable" href="a00298.html#a11f8898a6bc9a91abadb14c02cac4394">LocId</a>,</div>
<div class="line"><span class="lineno">  304</span>                devInfoB.<a class="code hl_variable" href="a00298.html#a8cd158ee3ee8f3cc63c24f0479184f5d">SerialNumber</a>, devInfoB.<a class="code hl_variable" href="a00298.html#abd835f2f4961fc15d522337997805c55">Description</a>, &amp;devInfoB.<a class="code hl_variable" href="a00298.html#a3a26fc5e6180c4f87dec4ebf1951d100">ftHandle</a>);</div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00119.html#a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3">FT_OK</a>)</div>
<div class="line"><span class="lineno">  306</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  307</span>            <span class="keywordflow">if</span> (!strcmp(devInfoB.<a class="code hl_variable" href="a00298.html#abd835f2f4961fc15d522337997805c55">Description</a>, <span class="stringliteral">&quot;FT4222 B&quot;</span>))</div>
<div class="line"><span class="lineno">  308</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  309</span>        }</div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordflow">if</span> (deviceIdxB &gt;= <a class="code hl_variable" href="#a9b2e046e3c9a655e83cee86a84f145ea">s_NumDevsD2XX</a>)</div>
<div class="line"><span class="lineno">  311</span>        {</div>
<div class="line"><span class="lineno">  312</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222 B not found\n&quot;</span>);</div>
<div class="line"><span class="lineno">  313</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  314</span>        }</div>
<div class="line"><span class="lineno">  315</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (devInfoB.<a class="code hl_variable" href="a00298.html#a721b47fa89702eff50b231f17c4298e6">Flags</a> &amp; <a class="code hl_enumvalue" href="a00119.html#aaf6b3e2e28e81b1594ae282a969b3708ad7c65505edafca0fa22c4b1618526153">FT_FLAGS_OPENED</a>)</div>
<div class="line"><span class="lineno">  316</span>        {</div>
<div class="line"><span class="lineno">  317</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Device FT4222 B already opened\n&quot;</span>);</div>
<div class="line"><span class="lineno">  318</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  319</span>        }</div>
<div class="line"><span class="lineno">  320</span>    }</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><span class="lineno">  323</span>    {</div>
<div class="line"><span class="lineno">  324</span>        status = <a class="code hl_function" href="a00119.html#a5f33a6dde9b2938f8e2426b1b0353906">FT_Open</a>(deviceIdxA, &amp;phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>);</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00119.html#a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3">FT_OK</a>)</div>
<div class="line"><span class="lineno">  326</span>        {</div>
<div class="line"><span class="lineno">  327</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT_Open FT4222 A failed %d\n&quot;</span>, (<span class="keywordtype">int</span>)status);</div>
<div class="line"><span class="lineno">  328</span>            phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a> = NULL;</div>
<div class="line"><span class="lineno">  329</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  330</span>        }</div>
<div class="line"><span class="lineno">  331</span>    }</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><span class="lineno">  334</span>    {</div>
<div class="line"><span class="lineno">  335</span>        status = <a class="code hl_function" href="a00119.html#a5f33a6dde9b2938f8e2426b1b0353906">FT_Open</a>(deviceIdxB, &amp;phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a>);</div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00119.html#a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3">FT_OK</a>)</div>
<div class="line"><span class="lineno">  337</span>        {</div>
<div class="line"><span class="lineno">  338</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT_Open FT4222 B failed %d\n&quot;</span>, (<span class="keywordtype">int</span>)status);</div>
<div class="line"><span class="lineno">  339</span>            <a class="code hl_function" href="a00119.html#a62c31590fa78d9fe4e46fc1fbc71ce7e">FT_Close</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>);</div>
<div class="line"><span class="lineno">  340</span>            phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a> = NULL;</div>
<div class="line"><span class="lineno">  341</span>            phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a> = NULL;</div>
<div class="line"><span class="lineno">  342</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  343</span>        }</div>
<div class="line"><span class="lineno">  344</span>    }</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><span class="lineno">  347</span>    {</div>
<div class="line"><span class="lineno">  348</span>        status = <a class="code hl_function" href="a00122.html#a2c06e96b489602290d487de8a4f65d8f">FT4222_GetVersion</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>, &amp;pversion);</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno">  350</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_GetVersion failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  351</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  352</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;SPI:chipversion = 0x%x\t dllversion = 0x%x\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)pversion.<a class="code hl_variable" href="a00302.html#a02866122d7e2157c85fbb145758cc887">chipVersion</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)pversion.<a class="code hl_variable" href="a00302.html#a7685a4fe56772dd8009d33a043a56cd4">dllVersion</a>);</div>
<div class="line"><span class="lineno">  353</span>    }</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><span class="lineno">  356</span>    {</div>
<div class="line"><span class="lineno">  357</span>        <span class="comment">//Set default Read timeout 5s and Write timeout 5sec</span></div>
<div class="line"><span class="lineno">  358</span>        status = <a class="code hl_function" href="a00119.html#a644d8350893480ef39c6aed4492249be">FT_SetTimeouts</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>, <a class="code hl_define" href="#a8da367977a942d4de7d6f9d4da5f5540">FT4222_READ_TIMEOUT</a>, <a class="code hl_define" href="#ac1acb56a5d8f6bf794989e9aaf9d23b2">FT4222_WRITE_TIMEOUT</a>);</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00119.html#a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3">FT_OK</a>)</div>
<div class="line"><span class="lineno">  360</span>        {</div>
<div class="line"><span class="lineno">  361</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT_SetTimeouts failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  362</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  363</span>        }</div>
<div class="line"><span class="lineno">  364</span>    }</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><span class="lineno">  367</span>    {</div>
<div class="line"><span class="lineno">  368</span>        <span class="comment">// no latency to usb</span></div>
<div class="line"><span class="lineno">  369</span>        status = <a class="code hl_function" href="a00119.html#a5a3a4527537d179e32831c77e9f325dc">FT_SetLatencyTimer</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>, <a class="code hl_define" href="#a9786353869ed518e3f3fb8e9c2a113f6">FT4222_LATENCY_TIME</a>);</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00119.html#a698d86ac58773d1251e85f0d1d05530ca57771796d33c3f4178130c5daa56b9a3">FT_OK</a>)</div>
<div class="line"><span class="lineno">  371</span>        {</div>
<div class="line"><span class="lineno">  372</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT_SetLatencyTimerfailed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  373</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  374</span>        }</div>
<div class="line"><span class="lineno">  375</span>    }</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><span class="lineno">  378</span>    {</div>
<div class="line"><span class="lineno">  379</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a61de392e64229997e88b7336ec18bfab">computeCLK</a>(phost, &amp;selclk, &amp;seldiv, parameters))</div>
<div class="line"><span class="lineno">  380</span>        {</div>
<div class="line"><span class="lineno">  381</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Requested clock %d KHz is not supported in FT4222\n&quot;</span>, parameters-&gt;<a class="code hl_variable" href="a00194.html#a8de93ce966b791980acfb859499af71a">SpiClockrateKHz</a>);</div>
<div class="line"><span class="lineno">  382</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  383</span>        }</div>
<div class="line"><span class="lineno">  384</span>    }</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><span class="lineno">  387</span>    {</div>
<div class="line"><span class="lineno">  388</span>        status = <a class="code hl_function" href="a00122.html#a49d308e01c4710802cc357a55029d367">FT4222_SetClock</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>, selclk);</div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno">  390</span>        {</div>
<div class="line"><span class="lineno">  391</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_SetClock failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  392</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  393</span>        }</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>        status = <a class="code hl_function" href="a00122.html#a40c8ebdda5e1bb1356c4b017057f89a9">FT4222_GetClock</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>, &amp;ftclk);</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno">  398</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_SetClock failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  400</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222 clk = %d\n&quot;</span>, ftclk);</div>
<div class="line"><span class="lineno">  401</span>    }</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><span class="lineno">  404</span>    {</div>
<div class="line"><span class="lineno">  405</span>        <span class="comment">/* Interface 1 is SPI master */</span></div>
<div class="line"><span class="lineno">  406</span>        status = <a class="code hl_function" href="a00122.html#ae3376d0d27e364118f0fafe397c5a633">FT4222_SPIMaster_Init</a>(</div>
<div class="line"><span class="lineno">  407</span>            phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>,</div>
<div class="line"><span class="lineno">  408</span>            <a class="code hl_enumvalue" href="a00122.html#a22282d0aaf69497bdd46660ecf52ac9ca8af65aaf788f827c55262b19a351a8cd">SPI_IO_SINGLE</a>,</div>
<div class="line"><span class="lineno">  409</span>            seldiv,</div>
<div class="line"><span class="lineno">  410</span>            <a class="code hl_enumvalue" href="a00122.html#a141118f90a1446498bf8de1bae04fe87afdb053e9ccbba657fd7b5b494567d26c">CLK_IDLE_LOW</a>, <span class="comment">//,CLK_IDLE_HIGH</span></div>
<div class="line"><span class="lineno">  411</span>            <a class="code hl_enumvalue" href="a00122.html#aa149ddfedbd8c4339dca1374b7389c0aa328865df57b12bf08ae5cbb5734fb55e">CLK_LEADING</a>, <span class="comment">// CLK_LEADING CLK_TRAILING</span></div>
<div class="line"><span class="lineno">  412</span>            parameters-&gt;<a class="code hl_variable" href="a00194.html#afd7fd761905e9b008e7c2af27d381759">SpiCsPin</a>); <span class="comment">/* slave selection output pins */</span></div>
<div class="line"><span class="lineno">  413</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno">  414</span>        {</div>
<div class="line"><span class="lineno">  415</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Init FT4222 as SPI master device failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  416</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  417</span>        }</div>
<div class="line"><span class="lineno">  418</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#ae6f022fe421629ef64d84613d3c03bb8">SpiCsPin</a> = parameters-&gt;<a class="code hl_variable" href="a00194.html#afd7fd761905e9b008e7c2af27d381759">SpiCsPin</a>;</div>
<div class="line"><span class="lineno">  419</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#aa281deef6ce1abacb20455b5c921aecc">PowerDownPin</a> = parameters-&gt;<a class="code hl_variable" href="a00194.html#ae0130f8667b1e15d0fa6c0900839319c">PowerDownPin</a>;</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>        status = <a class="code hl_function" href="a00122.html#a0c88d5a3d2c91823ab26edcd491f9cd1">FT4222_SPI_SetDrivingStrength</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>, <a class="code hl_enumvalue" href="a00122.html#a93041c38aa5317804d855708e6a23f1caa9f3311106e8118cdb7cfd8f4b5c3678">DS_4MA</a>, <a class="code hl_enumvalue" href="a00122.html#a93041c38aa5317804d855708e6a23f1caa9f3311106e8118cdb7cfd8f4b5c3678">DS_4MA</a>, <a class="code hl_enumvalue" href="a00122.html#a93041c38aa5317804d855708e6a23f1caa9f3311106e8118cdb7cfd8f4b5c3678">DS_4MA</a>);</div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno">  423</span>        {</div>
<div class="line"><span class="lineno">  424</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_SPI_SetDrivingStrength failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  425</span>        }</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>        <a class="code hl_function" href="a00071.html#ac3aa9dd28a24400fa4b5af0944865541">EVE_sleep</a>(20);</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>        status = <a class="code hl_function" href="a00122.html#aa6013446829c9574b1e1d3e844b8c168">FT4222_SetSuspendOut</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  430</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno">  431</span>        {</div>
<div class="line"><span class="lineno">  432</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Disable suspend out function on GPIO2 failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  433</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  434</span>        }</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>        status = <a class="code hl_function" href="a00122.html#a6778282250b55850776818108158cb75">FT4222_SetWakeUpInterrupt</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  437</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno">  438</span>        {</div>
<div class="line"><span class="lineno">  439</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Disable wakeup/interrupt feature on GPIO3 failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  440</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  441</span>        }</div>
<div class="line"><span class="lineno">  442</span>        <span class="comment">/* Interface 2 is GPIO */</span></div>
<div class="line"><span class="lineno">  443</span>        status = <a class="code hl_function" href="a00122.html#a597687b9ffe0530121548758effe21d3">FT4222_GPIO_Init</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a61e09718ae69d69c00a99cef0752d5e3">GpioHandle</a>, gpio_dir);</div>
<div class="line"><span class="lineno">  444</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno">  445</span>        {</div>
<div class="line"><span class="lineno">  446</span>            <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Init FT4222 as GPIO interface failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  447</span>            ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  448</span>        }</div>
<div class="line"><span class="lineno">  449</span>    }</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><span class="lineno">  452</span>    {</div>
<div class="line"><span class="lineno">  453</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#ac74537dc1b66428772d59c08934dd75d">SpiChannels</a> = <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1ab2054e64bd3b2575789721cbd3013505">EVE_SPI_SINGLE_CHANNEL</a>;</div>
<div class="line"><span class="lineno">  454</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> = <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ad69e8b7fc9e94116000173d227e5cbf8">EVE_STATUS_OPENED</a>;</div>
<div class="line"><span class="lineno">  455</span>        ++<a class="code hl_variable" href="a00059.html#a0916c70fa867e6f4640d0f9af95aee3f">g_HalPlatform</a>.OpenedDevices;</div>
<div class="line"><span class="lineno">  456</span>    }</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>    <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  459</span>}</div>
<div class="ttc" id="aa00074_html_a61de392e64229997e88b7336ec18bfab"><div class="ttname"><a href="#a61de392e64229997e88b7336ec18bfab">computeCLK</a></div><div class="ttdeci">bool computeCLK(EVE_HalContext *phost, FT4222_ClockRate *sysclk, FT4222_SPIClock *sysdivisor, const EVE_HalParameters *parameters)</div><div class="ttdoc">Compute the system clock and SPI clock.</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00208">EVE_HalImpl_FT4222.c:208</a></div></div>
<div class="ttc" id="aa00074_html_a8da367977a942d4de7d6f9d4da5f5540"><div class="ttname"><a href="#a8da367977a942d4de7d6f9d4da5f5540">FT4222_READ_TIMEOUT</a></div><div class="ttdeci">#define FT4222_READ_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00039">EVE_HalImpl_FT4222.c:39</a></div></div>
<div class="ttc" id="aa00074_html_a9786353869ed518e3f3fb8e9c2a113f6"><div class="ttname"><a href="#a9786353869ed518e3f3fb8e9c2a113f6">FT4222_LATENCY_TIME</a></div><div class="ttdeci">#define FT4222_LATENCY_TIME</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00042">EVE_HalImpl_FT4222.c:42</a></div></div>
<div class="ttc" id="aa00074_html_ac1acb56a5d8f6bf794989e9aaf9d23b2"><div class="ttname"><a href="#ac1acb56a5d8f6bf794989e9aaf9d23b2">FT4222_WRITE_TIMEOUT</a></div><div class="ttdeci">#define FT4222_WRITE_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00040">EVE_HalImpl_FT4222.c:40</a></div></div>
<div class="ttc" id="aa00119_html_a5a3a4527537d179e32831c77e9f325dc"><div class="ttname"><a href="a00119.html#a5a3a4527537d179e32831c77e9f325dc">FT_SetLatencyTimer</a></div><div class="ttdeci">FTD2XX_API FT_STATUS WINAPI FT_SetLatencyTimer(FT_HANDLE ftHandle, UCHAR ucLatency)</div></div>
<div class="ttc" id="aa00119_html_a5f33a6dde9b2938f8e2426b1b0353906"><div class="ttname"><a href="a00119.html#a5f33a6dde9b2938f8e2426b1b0353906">FT_Open</a></div><div class="ttdeci">FTD2XX_API FT_STATUS WINAPI FT_Open(int deviceNumber, FT_HANDLE *pHandle)</div></div>
<div class="ttc" id="aa00119_html_a644d8350893480ef39c6aed4492249be"><div class="ttname"><a href="a00119.html#a644d8350893480ef39c6aed4492249be">FT_SetTimeouts</a></div><div class="ttdeci">FTD2XX_API FT_STATUS WINAPI FT_SetTimeouts(FT_HANDLE ftHandle, ULONG ReadTimeout, ULONG WriteTimeout)</div></div>
<div class="ttc" id="aa00122_html_a0c88d5a3d2c91823ab26edcd491f9cd1"><div class="ttname"><a href="a00122.html#a0c88d5a3d2c91823ab26edcd491f9cd1">FT4222_SPI_SetDrivingStrength</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_SPI_SetDrivingStrength(FT_HANDLE ftHandle, SPI_DrivingStrength clkStrength, SPI_DrivingStrength ioStrength, SPI_DrivingStrength ssoStrength)</div></div>
<div class="ttc" id="aa00122_html_a141118f90a1446498bf8de1bae04fe87afdb053e9ccbba657fd7b5b494567d26c"><div class="ttname"><a href="a00122.html#a141118f90a1446498bf8de1bae04fe87afdb053e9ccbba657fd7b5b494567d26c">CLK_IDLE_LOW</a></div><div class="ttdeci">@ CLK_IDLE_LOW</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00217">LibFT4222.h:217</a></div></div>
<div class="ttc" id="aa00122_html_a1bcee2db7da0fabb61e581ad3516bd5e"><div class="ttname"><a href="a00122.html#a1bcee2db7da0fabb61e581ad3516bd5e">FT4222_SPIClock</a></div><div class="ttdeci">FT4222_SPIClock</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00199">LibFT4222.h:200</a></div></div>
<div class="ttc" id="aa00122_html_a22282d0aaf69497bdd46660ecf52ac9ca8af65aaf788f827c55262b19a351a8cd"><div class="ttname"><a href="a00122.html#a22282d0aaf69497bdd46660ecf52ac9ca8af65aaf788f827c55262b19a351a8cd">SPI_IO_SINGLE</a></div><div class="ttdeci">@ SPI_IO_SINGLE</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00192">LibFT4222.h:192</a></div></div>
<div class="ttc" id="aa00122_html_a2c06e96b489602290d487de8a4f65d8f"><div class="ttname"><a href="a00122.html#a2c06e96b489602290d487de8a4f65d8f">FT4222_GetVersion</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_GetVersion(FT_HANDLE ftHandle, FT4222_Version *pVersion)</div></div>
<div class="ttc" id="aa00122_html_a40c8ebdda5e1bb1356c4b017057f89a9"><div class="ttname"><a href="a00122.html#a40c8ebdda5e1bb1356c4b017057f89a9">FT4222_GetClock</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_GetClock(FT_HANDLE ftHandle, FT4222_ClockRate *clk)</div></div>
<div class="ttc" id="aa00122_html_a49d308e01c4710802cc357a55029d367"><div class="ttname"><a href="a00122.html#a49d308e01c4710802cc357a55029d367">FT4222_SetClock</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_SetClock(FT_HANDLE ftHandle, FT4222_ClockRate clk)</div></div>
<div class="ttc" id="aa00122_html_a58445dd09558817c0d5065de9cd41472"><div class="ttname"><a href="a00122.html#a58445dd09558817c0d5065de9cd41472">FT4222_ClockRate</a></div><div class="ttdeci">FT4222_ClockRate</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00169">LibFT4222.h:170</a></div></div>
<div class="ttc" id="aa00122_html_a597687b9ffe0530121548758effe21d3"><div class="ttname"><a href="a00122.html#a597687b9ffe0530121548758effe21d3">FT4222_GPIO_Init</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_GPIO_Init(FT_HANDLE ftHandle, GPIO_Dir gpioDir[4])</div></div>
<div class="ttc" id="aa00122_html_a6778282250b55850776818108158cb75"><div class="ttname"><a href="a00122.html#a6778282250b55850776818108158cb75">FT4222_SetWakeUpInterrupt</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_SetWakeUpInterrupt(FT_HANDLE ftHandle, BOOL enable)</div></div>
<div class="ttc" id="aa00122_html_a93041c38aa5317804d855708e6a23f1caa9f3311106e8118cdb7cfd8f4b5c3678"><div class="ttname"><a href="a00122.html#a93041c38aa5317804d855708e6a23f1caa9f3311106e8118cdb7cfd8f4b5c3678">DS_4MA</a></div><div class="ttdeci">@ DS_4MA</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00231">LibFT4222.h:231</a></div></div>
<div class="ttc" id="aa00122_html_aa149ddfedbd8c4339dca1374b7389c0aa328865df57b12bf08ae5cbb5734fb55e"><div class="ttname"><a href="a00122.html#aa149ddfedbd8c4339dca1374b7389c0aa328865df57b12bf08ae5cbb5734fb55e">CLK_LEADING</a></div><div class="ttdeci">@ CLK_LEADING</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00224">LibFT4222.h:224</a></div></div>
<div class="ttc" id="aa00122_html_aa6013446829c9574b1e1d3e844b8c168"><div class="ttname"><a href="a00122.html#aa6013446829c9574b1e1d3e844b8c168">FT4222_SetSuspendOut</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_SetSuspendOut(FT_HANDLE ftHandle, BOOL enable)</div></div>
<div class="ttc" id="aa00122_html_ab1cf256e7102efb9e94ec79d21854265"><div class="ttname"><a href="a00122.html#ab1cf256e7102efb9e94ec79d21854265">GPIO_Dir</a></div><div class="ttdeci">GPIO_Dir</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00257">LibFT4222.h:258</a></div></div>
<div class="ttc" id="aa00122_html_ab1cf256e7102efb9e94ec79d21854265aa1ea38ffc304a6c32480a65b5fec7302"><div class="ttname"><a href="a00122.html#ab1cf256e7102efb9e94ec79d21854265aa1ea38ffc304a6c32480a65b5fec7302">GPIO_INPUT</a></div><div class="ttdeci">@ GPIO_INPUT</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00260">LibFT4222.h:260</a></div></div>
<div class="ttc" id="aa00122_html_ab1cf256e7102efb9e94ec79d21854265aa248e73c1faee9c6f072fd91569cf516"><div class="ttname"><a href="a00122.html#ab1cf256e7102efb9e94ec79d21854265aa248e73c1faee9c6f072fd91569cf516">GPIO_OUTPUT</a></div><div class="ttdeci">@ GPIO_OUTPUT</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00259">LibFT4222.h:259</a></div></div>
<div class="ttc" id="aa00122_html_ae3376d0d27e364118f0fafe397c5a633"><div class="ttname"><a href="a00122.html#ae3376d0d27e364118f0fafe397c5a633">FT4222_SPIMaster_Init</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_SPIMaster_Init(FT_HANDLE ftHandle, FT4222_SPIMode ioLine, FT4222_SPIClock clock, FT4222_SPICPOL cpol, FT4222_SPICPHA cpha, uint8 ssoMap)</div></div>
<div class="ttc" id="aa00198_html_ae6f022fe421629ef64d84613d3c03bb8"><div class="ttname"><a href="a00198.html#ae6f022fe421629ef64d84613d3c03bb8">EVE_HalContext::SpiCsPin</a></div><div class="ttdeci">uint8_t SpiCsPin</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00231">EVE_HalDefs.h:231</a></div></div>
<div class="ttc" id="aa00302_html"><div class="ttname"><a href="a00302.html">FT4222_Version</a></div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00305">LibFT4222.h:306</a></div></div>
<div class="ttc" id="aa00302_html_a02866122d7e2157c85fbb145758cc887"><div class="ttname"><a href="a00302.html#a02866122d7e2157c85fbb145758cc887">FT4222_Version::chipVersion</a></div><div class="ttdeci">DWORD chipVersion</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00307">LibFT4222.h:307</a></div></div>
<div class="ttc" id="aa00302_html_a7685a4fe56772dd8009d33a043a56cd4"><div class="ttname"><a href="a00302.html#a7685a4fe56772dd8009d33a043a56cd4">FT4222_Version::dllVersion</a></div><div class="ttdeci">DWORD dllVersion</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00308">LibFT4222.h:308</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae167875136ce557df5079224aaac3e5d" name="ae167875136ce557df5079224aaac3e5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae167875136ce557df5079224aaac3e5d">&#9670;&#160;</a></span>EVE_HalImpl_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVE_HalImpl_release </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release HAL platform. </p>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00097">97</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>{</div>
<div class="line"><span class="lineno">   99</span>    <span class="comment">/* no-op */</span></div>
<div class="line"><span class="lineno">  100</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afb74cba236df2fd69448d11f4e02d024" name="afb74cba236df2fd69448d11f4e02d024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb74cba236df2fd69448d11f4e02d024">&#9670;&#160;</a></span>flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a> flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush data to Coprocessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true True if ok </dd>
<dd>
false False if error </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00878">878</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  879</span>{</div>
<div class="line"><span class="lineno">  880</span>    <span class="keywordtype">bool</span> res = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  881</span>    <span class="keywordflow">if</span> (phost-&gt;<a class="code hl_variable" href="a00198.html#ae38be80bc651abca8bb6dad85517000b">SpiWrBufIndex</a>)</div>
<div class="line"><span class="lineno">  882</span>    {</div>
<div class="line"><span class="lineno">  883</span>        res = <a class="code hl_function" href="#a323ac93b2c405f79e30fd3a9c0864977">wrBuffer</a>(phost, NULL, 0);</div>
<div class="line"><span class="lineno">  884</span>    }</div>
<div class="line"><span class="lineno">  885</span>    <a class="code hl_define" href="a00101.html#a1b23dd5646ab44acdb54bda108ca76fa">eve_assert</a>(!phost-&gt;<a class="code hl_variable" href="a00198.html#ae38be80bc651abca8bb6dad85517000b">SpiWrBufIndex</a>);</div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  887</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ce4c3c0101e945f306d5dae105988ae" name="a5ce4c3c0101e945f306d5dae105988ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce4c3c0101e945f306d5dae105988ae">&#9670;&#160;</a></span>incrementRamGAddr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> incrementRamGAddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>addr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>inc</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increase RAM_G adress. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">addr</td><td>Address offset </td></tr>
    <tr><td class="paramname">inc</td><td>Number of bytes to increase </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> New address in RAM_G </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00513">513</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  514</span>{</div>
<div class="line"><span class="lineno">  515</span>    <span class="keywordflow">if</span> (addr != <a class="code hl_define" href="a00053.html#a4a7e71a6436d0efd820c33136e5cb4aa">REG_CMDB_WRITE</a>)</div>
<div class="line"><span class="lineno">  516</span>    {</div>
<div class="line"><span class="lineno">  517</span>        <span class="keywordtype">bool</span> wrapCmdAddr = (addr &gt;= <a class="code hl_define" href="a00053.html#a46d2e1693200e0f9dc2404014b258876">RAM_CMD</a>) &amp;&amp; (addr &lt; (<a class="code hl_define" href="a00053.html#a46d2e1693200e0f9dc2404014b258876">RAM_CMD</a> + <a class="code hl_define" href="a00053.html#a502cc5fe8f4d614bbd749907aaf22faf">EVE_CMD_FIFO_SIZE</a>));</div>
<div class="line"><span class="lineno">  518</span>        addr += inc;</div>
<div class="line"><span class="lineno">  519</span>        <span class="keywordflow">if</span> (wrapCmdAddr)</div>
<div class="line"><span class="lineno">  520</span>            addr = <a class="code hl_define" href="a00053.html#a46d2e1693200e0f9dc2404014b258876">RAM_CMD</a> + (addr &amp; <a class="code hl_define" href="a00053.html#af9db4f734380527178351063a8b06488">EVE_CMD_FIFO_MASK</a>);</div>
<div class="line"><span class="lineno">  521</span>    }</div>
<div class="line"><span class="lineno">  522</span>    <span class="keywordflow">return</span> addr;</div>
<div class="line"><span class="lineno">  523</span>}</div>
<div class="ttc" id="aa00053_html_af9db4f734380527178351063a8b06488"><div class="ttname"><a href="a00053.html#af9db4f734380527178351063a8b06488">EVE_CMD_FIFO_MASK</a></div><div class="ttdeci">#define EVE_CMD_FIFO_MASK</div><div class="ttdef"><b>Definition</b> <a href="a00053_source.html#l00047">EVE_GpuDefs.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a50b31366af31487a35d8c3b8dbb542ce" name="a50b31366af31487a35d8c3b8dbb542ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50b31366af31487a35d8c3b8dbb542ce">&#9670;&#160;</a></span>rdBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a> rdBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a block data from Coprocessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">buffer</td><td>Buffer to get result </td></tr>
    <tr><td class="paramname">size</td><td>Number of bytes to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true True if ok </dd>
<dd>
false False if error </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00534">534</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  535</span>{</div>
<div class="line"><span class="lineno">  536</span>    <a class="code hl_enumeration" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35">FT4222_STATUS</a> status;</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>    <a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> hrdpkt[8] = { 0 };</div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">if</span> (size &amp; 3)</div>
<div class="line"><span class="lineno">  540</span>    {</div>
<div class="line"><span class="lineno">  541</span>        size = (size + 3) &amp; ~3UL;</div>
<div class="line"><span class="lineno">  542</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Data size should be align to 4 bytes\n&quot;</span>);</div>
<div class="line"><span class="lineno">  543</span>    }</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">while</span> (size)</div>
<div class="line"><span class="lineno">  546</span>    {</div>
<div class="line"><span class="lineno">  547</span>        <a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sizeTransferred;</div>
<div class="line"><span class="lineno">  548</span>        <a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> bytesPerRead;</div>
<div class="line"><span class="lineno">  549</span>        <a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> addr = phost-&gt;<a class="code hl_variable" href="a00198.html#a59906f64e8c5887616b0db4c30b33cb2">SpiRamGAddr</a>;</div>
<div class="line"><span class="lineno">  550</span>        <span class="keywordtype">bool</span> readyRecved = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  551</span>        <a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> retry = 0;</div>
<div class="line"><span class="lineno">  552</span>        <a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> buff1[<a class="code hl_define" href="#af0113b8a0d65aab384607436aa155838">DATA_LENGTH</a> + <a class="code hl_define" href="#af3b765afccbc15936a8e9cf1ab688041">POLLING_BYTES</a>] = { 0 };</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>        <span class="comment">/* Compose the HOST MEMORY READ packet */</span></div>
<div class="line"><span class="lineno">  555</span>        hrdpkt[0] = (<a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>)(addr &gt;&gt; 24) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  556</span>        hrdpkt[1] = (<a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>)(addr &gt;&gt; 16) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  557</span>        hrdpkt[2] = (<a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>)(addr &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  558</span>        hrdpkt[3] = (<a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>)(addr &amp; 0xFF);</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">if</span> (size &lt;= <a class="code hl_define" href="#af0113b8a0d65aab384607436aa155838">DATA_LENGTH</a>)</div>
<div class="line"><span class="lineno">  561</span>            bytesPerRead = size;</div>
<div class="line"><span class="lineno">  562</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  563</span>            bytesPerRead = <a class="code hl_define" href="#af0113b8a0d65aab384607436aa155838">DATA_LENGTH</a>;</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>        <span class="keywordflow">if</span> (phost-&gt;<a class="code hl_variable" href="a00198.html#ac74537dc1b66428772d59c08934dd75d">SpiChannels</a> == <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1ab2054e64bd3b2575789721cbd3013505">EVE_SPI_SINGLE_CHANNEL</a>)</div>
<div class="line"><span class="lineno">  566</span>        {</div>
<div class="line"><span class="lineno">  567</span>            <a class="code hl_typedef" href="a00086.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> sizeWritten;</div>
<div class="line"><span class="lineno">  568</span>            <a class="code hl_typedef" href="a00086.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> sizeRead;</div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>            status = <a class="code hl_function" href="a00122.html#aed7f937b6157ea1a542c99681c105873">FT4222_SPIMaster_SingleWrite</a>(</div>
<div class="line"><span class="lineno">  571</span>                phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>,</div>
<div class="line"><span class="lineno">  572</span>                hrdpkt,</div>
<div class="line"><span class="lineno">  573</span>                4,</div>
<div class="line"><span class="lineno">  574</span>                &amp;sizeWritten,</div>
<div class="line"><span class="lineno">  575</span>                <a class="code hl_define" href="a00128.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>            <span class="keywordflow">if</span> ((status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>) || (sizeWritten != 4))</div>
<div class="line"><span class="lineno">  578</span>            {</div>
<div class="line"><span class="lineno">  579</span>                <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_SPIMaster_SingleWrite failed, sizeTransferred is %d with status %d\n&quot;</span>, sizeWritten, status);</div>
<div class="line"><span class="lineno">  580</span>                <span class="keywordflow">if</span> (sizeWritten != 4)</div>
<div class="line"><span class="lineno">  581</span>                    phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> = <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ade672f60908477052ed1b71e1a6c9a32">EVE_STATUS_ERROR</a>;</div>
<div class="line"><span class="lineno">  582</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  583</span>            }</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>            <span class="keywordflow">while</span> (1)</div>
<div class="line"><span class="lineno">  586</span>            {</div>
<div class="line"><span class="lineno">  587</span>                status = <a class="code hl_function" href="a00122.html#acafbeca318385b11cc7ecf96de6cbc67">FT4222_SPIMaster_SingleRead</a>(</div>
<div class="line"><span class="lineno">  588</span>                    phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>,</div>
<div class="line"><span class="lineno">  589</span>                    buff1,</div>
<div class="line"><span class="lineno">  590</span>                    bytesPerRead + <a class="code hl_define" href="#af3b765afccbc15936a8e9cf1ab688041">POLLING_BYTES</a>,</div>
<div class="line"><span class="lineno">  591</span>                    &amp;sizeRead,</div>
<div class="line"><span class="lineno">  592</span>                    <a class="code hl_define" href="a00128.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>                <span class="keywordflow">if</span> ((status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>) || (sizeRead != (<a class="code hl_define" href="#af3b765afccbc15936a8e9cf1ab688041">POLLING_BYTES</a> + bytesPerRead)))</div>
<div class="line"><span class="lineno">  595</span>                {</div>
<div class="line"><span class="lineno">  596</span>                    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_SPIMaster_SingleRead failed, sizeTransferred is %d with status %d\n&quot;</span>, sizeRead, status);</div>
<div class="line"><span class="lineno">  597</span>                    <span class="keywordflow">if</span> (sizeRead != bytesPerRead)</div>
<div class="line"><span class="lineno">  598</span>                        phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> = <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ade672f60908477052ed1b71e1a6c9a32">EVE_STATUS_ERROR</a>;</div>
<div class="line"><span class="lineno">  599</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  600</span>                }</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> i = 0; i &lt; <a class="code hl_define" href="#af3b765afccbc15936a8e9cf1ab688041">POLLING_BYTES</a>; i++)</div>
<div class="line"><span class="lineno">  603</span>                {</div>
<div class="line"><span class="lineno">  604</span>                    <span class="keywordflow">if</span> (buff1[i] == 0x01)</div>
<div class="line"><span class="lineno">  605</span>                    {</div>
<div class="line"><span class="lineno">  606</span>                        readyRecved = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  607</span>                        memcpy(buffer, &amp;buff1[i + 1], bytesPerRead); <span class="comment">/* Prepare the SFN to be modified */</span></div>
<div class="line"><span class="lineno">  608</span>                        sizeTransferred = bytesPerRead;</div>
<div class="line"><span class="lineno">  609</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  610</span>                    }</div>
<div class="line"><span class="lineno">  611</span>                }</div>
<div class="line"><span class="lineno">  612</span>                <span class="keywordflow">if</span> (readyRecved)</div>
<div class="line"><span class="lineno">  613</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>                retry++;</div>
<div class="line"><span class="lineno">  616</span>                <span class="keywordflow">if</span> (retry &gt;= <a class="code hl_define" href="#a18e13c9ac88403c42395bb0af487eb2d">READ_TIMEOUT</a>)</div>
<div class="line"><span class="lineno">  617</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  618</span>            }</div>
<div class="line"><span class="lineno">  619</span>        }</div>
<div class="line"><span class="lineno">  620</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  621</span>        {</div>
<div class="line"><span class="lineno">  622</span>            <span class="keywordflow">while</span> (1)</div>
<div class="line"><span class="lineno">  623</span>            {</div>
<div class="line"><span class="lineno">  624</span>                status = <a class="code hl_function" href="a00122.html#a94d0e38dc635120ceae66e295cb5beff">FT4222_SPIMaster_MultiReadWrite</a>(</div>
<div class="line"><span class="lineno">  625</span>                    phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>,</div>
<div class="line"><span class="lineno">  626</span>                    buff1,</div>
<div class="line"><span class="lineno">  627</span>                    hrdpkt,</div>
<div class="line"><span class="lineno">  628</span>                    0,</div>
<div class="line"><span class="lineno">  629</span>                    4,</div>
<div class="line"><span class="lineno">  630</span>                    <a class="code hl_define" href="#af3b765afccbc15936a8e9cf1ab688041">POLLING_BYTES</a> + bytesPerRead,</div>
<div class="line"><span class="lineno">  631</span>                    &amp;sizeTransferred);</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>                <span class="keywordflow">if</span> ((status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>) || (sizeTransferred != (<a class="code hl_define" href="#af3b765afccbc15936a8e9cf1ab688041">POLLING_BYTES</a> + bytesPerRead)))</div>
<div class="line"><span class="lineno">  634</span>                {</div>
<div class="line"><span class="lineno">  635</span>                    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_SPIMaster_MultiReadWrite failed, sizeTransferred is %d with status %d\n&quot;</span>, sizeTransferred, status);</div>
<div class="line"><span class="lineno">  636</span>                    <span class="keywordflow">if</span> (sizeTransferred != (<a class="code hl_define" href="#af3b765afccbc15936a8e9cf1ab688041">POLLING_BYTES</a> + bytesPerRead))</div>
<div class="line"><span class="lineno">  637</span>                        phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> = <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ade672f60908477052ed1b71e1a6c9a32">EVE_STATUS_ERROR</a>;</div>
<div class="line"><span class="lineno">  638</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  639</span>                }</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>                <span class="keywordflow">for</span> (<a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> i = 0; i &lt; <a class="code hl_define" href="#af3b765afccbc15936a8e9cf1ab688041">POLLING_BYTES</a>; i++)</div>
<div class="line"><span class="lineno">  642</span>                {</div>
<div class="line"><span class="lineno">  643</span>                    <span class="keywordflow">if</span> (buff1[i] == 0x01)</div>
<div class="line"><span class="lineno">  644</span>                    {</div>
<div class="line"><span class="lineno">  645</span>                        readyRecved = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  646</span>                        memcpy(buffer, &amp;buff1[i + 1], bytesPerRead); <span class="comment">/* Prepare the SFN to be modified */</span></div>
<div class="line"><span class="lineno">  647</span>                        sizeTransferred = bytesPerRead;</div>
<div class="line"><span class="lineno">  648</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  649</span>                    }</div>
<div class="line"><span class="lineno">  650</span>                }</div>
<div class="line"><span class="lineno">  651</span>                <span class="keywordflow">if</span> (readyRecved)</div>
<div class="line"><span class="lineno">  652</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>                retry++;</div>
<div class="line"><span class="lineno">  655</span>                <span class="keywordflow">if</span> (retry &gt;= <a class="code hl_define" href="#a18e13c9ac88403c42395bb0af487eb2d">READ_TIMEOUT</a>)</div>
<div class="line"><span class="lineno">  656</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  657</span>            }</div>
<div class="line"><span class="lineno">  658</span>        }</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>        buffer += sizeTransferred;</div>
<div class="line"><span class="lineno">  661</span>        <span class="keywordflow">if</span> (size)</div>
<div class="line"><span class="lineno">  662</span>        {</div>
<div class="line"><span class="lineno">  663</span>            <a class="code hl_define" href="a00101.html#a631b0f9326ca147de966e04d3a3061de">eve_assert_ex</a>(sizeTransferred &lt;= size, <span class="stringliteral">&quot;Cannot have transferred more than size\n&quot;</span>);</div>
<div class="line"><span class="lineno">  664</span>            size -= sizeTransferred;</div>
<div class="line"><span class="lineno">  665</span>        }</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>        <span class="keywordflow">if</span> (addr != <a class="code hl_define" href="a00053.html#a4a7e71a6436d0efd820c33136e5cb4aa">REG_CMDB_WRITE</a>)</div>
<div class="line"><span class="lineno">  668</span>        {</div>
<div class="line"><span class="lineno">  669</span>            <span class="keywordtype">bool</span> wrapCmdAddr = (addr &gt;= <a class="code hl_define" href="a00053.html#a46d2e1693200e0f9dc2404014b258876">RAM_CMD</a>) &amp;&amp; (addr &lt; (<a class="code hl_define" href="a00053.html#a46d2e1693200e0f9dc2404014b258876">RAM_CMD</a> + <a class="code hl_define" href="a00053.html#a502cc5fe8f4d614bbd749907aaf22faf">EVE_CMD_FIFO_SIZE</a>));</div>
<div class="line"><span class="lineno">  670</span>            addr += sizeTransferred;</div>
<div class="line"><span class="lineno">  671</span>            <span class="keywordflow">if</span> (wrapCmdAddr)</div>
<div class="line"><span class="lineno">  672</span>                addr = <a class="code hl_define" href="a00053.html#a46d2e1693200e0f9dc2404014b258876">RAM_CMD</a> + (addr &amp; <a class="code hl_define" href="a00053.html#af9db4f734380527178351063a8b06488">EVE_CMD_FIFO_MASK</a>);</div>
<div class="line"><span class="lineno">  673</span>            phost-&gt;<a class="code hl_variable" href="a00198.html#a59906f64e8c5887616b0db4c30b33cb2">SpiRamGAddr</a> = addr;</div>
<div class="line"><span class="lineno">  674</span>        }</div>
<div class="line"><span class="lineno">  675</span>    }</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  678</span>}</div>
<div class="ttc" id="aa00074_html_a18e13c9ac88403c42395bb0af487eb2d"><div class="ttname"><a href="#a18e13c9ac88403c42395bb0af487eb2d">READ_TIMEOUT</a></div><div class="ttdeci">#define READ_TIMEOUT</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00045">EVE_HalImpl_FT4222.c:45</a></div></div>
<div class="ttc" id="aa00074_html_af0113b8a0d65aab384607436aa155838"><div class="ttname"><a href="#af0113b8a0d65aab384607436aa155838">DATA_LENGTH</a></div><div class="ttdeci">#define DATA_LENGTH</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00046">EVE_HalImpl_FT4222.c:46</a></div></div>
<div class="ttc" id="aa00074_html_af3b765afccbc15936a8e9cf1ab688041"><div class="ttname"><a href="#af3b765afccbc15936a8e9cf1ab688041">POLLING_BYTES</a></div><div class="ttdeci">#define POLLING_BYTES</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00044">EVE_HalImpl_FT4222.c:44</a></div></div>
<div class="ttc" id="aa00101_html_a631b0f9326ca147de966e04d3a3061de"><div class="ttname"><a href="a00101.html#a631b0f9326ca147de966e04d3a3061de">eve_assert_ex</a></div><div class="ttdeci">#define eve_assert_ex(cond, ex)</div><div class="ttdef"><b>Definition</b> <a href="a00101_source.html#l00133">EVE_Platform.h:133</a></div></div>
<div class="ttc" id="aa00122_html_acafbeca318385b11cc7ecf96de6cbc67"><div class="ttname"><a href="a00122.html#acafbeca318385b11cc7ecf96de6cbc67">FT4222_SPIMaster_SingleRead</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_SPIMaster_SingleRead(FT_HANDLE ftHandle, uint8 *buffer, uint16 bufferSize, uint16 *sizeOfRead, BOOL isEndTransaction)</div></div>
<div class="ttc" id="aa00128_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="a00128.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition</b> <a href="a00128_source.html#l00086">WinTypes.h:86</a></div></div>
<div class="ttc" id="aa00128_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="a00128.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition</b> <a href="a00128_source.html#l00089">WinTypes.h:89</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa31fb8a051f41ddf826beb1be8c2cec" name="aaa31fb8a051f41ddf826beb1be8c2cec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa31fb8a051f41ddf826beb1be8c2cec">&#9670;&#160;</a></span>setSPI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setSPI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1">EVE_SPI_CHANNELS_T</a></td>          <td class="paramname"><span class="paramname"><em>numchnls</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set number of SPI channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">numchnls</td><td>Number of channel </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l01093">1093</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1094</span>{</div>
<div class="line"><span class="lineno"> 1095</span>    <a class="code hl_enumeration" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35">FT4222_STATUS</a> ftstatus;</div>
<div class="line"><span class="lineno"> 1096</span>    <a class="code hl_enumeration" href="a00122.html#a22282d0aaf69497bdd46660ecf52ac9c">FT4222_SPIMode</a> spimode;</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>    <a class="code hl_function" href="#afb74cba236df2fd69448d11f4e02d024">flush</a>(phost);</div>
<div class="line"><span class="lineno"> 1099</span> </div>
<div class="line"><span class="lineno"> 1100</span>    <span class="comment">/* switch FT4222 to relevant multi channel SPI communication mode */</span></div>
<div class="line"><span class="lineno"> 1101</span>    <span class="keywordflow">if</span> (numchnls == <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1ad81caccc39ab6f2a752f09de9b705cc9">EVE_SPI_DUAL_CHANNEL</a>)</div>
<div class="line"><span class="lineno"> 1102</span>        spimode = <a class="code hl_enumvalue" href="a00122.html#a22282d0aaf69497bdd46660ecf52ac9ca7bb0bf9e0e90e6d224f411d043fc03f2">SPI_IO_DUAL</a>;</div>
<div class="line"><span class="lineno"> 1103</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (numchnls == <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1a9b7cab9528415f52504f207640368b95">EVE_SPI_QUAD_CHANNEL</a>)</div>
<div class="line"><span class="lineno"> 1104</span>        spimode = <a class="code hl_enumvalue" href="a00122.html#a22282d0aaf69497bdd46660ecf52ac9ca2fad18cf213411bf8f39c1d042064f94">SPI_IO_QUAD</a>;</div>
<div class="line"><span class="lineno"> 1105</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1106</span>        spimode = <a class="code hl_enumvalue" href="a00122.html#a22282d0aaf69497bdd46660ecf52ac9ca8af65aaf788f827c55262b19a351a8cd">SPI_IO_SINGLE</a>;</div>
<div class="line"><span class="lineno"> 1107</span> </div>
<div class="line"><span class="lineno"> 1108</span>    ftstatus = <a class="code hl_function" href="a00122.html#a1ff486a1b21beb07112081cf3590a682">FT4222_SPIMaster_SetLines</a>(phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>, spimode);</div>
<div class="line"><span class="lineno"> 1109</span>    <span class="keywordflow">if</span> (<a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a> != ftstatus)</div>
<div class="line"><span class="lineno"> 1110</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_SPIMaster_SetLines failed with status %d\n&quot;</span>, ftstatus);</div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span>    <span class="comment">/* FT81x swicthed to dual/quad mode, now update global HAL context */</span></div>
<div class="line"><span class="lineno"> 1113</span>    phost-&gt;<a class="code hl_variable" href="a00198.html#ac74537dc1b66428772d59c08934dd75d">SpiChannels</a> = numchnls;</div>
<div class="line"><span class="lineno"> 1114</span>}</div>
<div class="ttc" id="aa00122_html_a1ff486a1b21beb07112081cf3590a682"><div class="ttname"><a href="a00122.html#a1ff486a1b21beb07112081cf3590a682">FT4222_SPIMaster_SetLines</a></div><div class="ttdeci">LIBFT4222_API FT4222_STATUS WINAPI FT4222_SPIMaster_SetLines(FT_HANDLE ftHandle, FT4222_SPIMode spiMode)</div></div>
<div class="ttc" id="aa00122_html_a22282d0aaf69497bdd46660ecf52ac9c"><div class="ttname"><a href="a00122.html#a22282d0aaf69497bdd46660ecf52ac9c">FT4222_SPIMode</a></div><div class="ttdeci">FT4222_SPIMode</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00189">LibFT4222.h:190</a></div></div>
<div class="ttc" id="aa00122_html_a22282d0aaf69497bdd46660ecf52ac9ca2fad18cf213411bf8f39c1d042064f94"><div class="ttname"><a href="a00122.html#a22282d0aaf69497bdd46660ecf52ac9ca2fad18cf213411bf8f39c1d042064f94">SPI_IO_QUAD</a></div><div class="ttdeci">@ SPI_IO_QUAD</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00194">LibFT4222.h:194</a></div></div>
<div class="ttc" id="aa00122_html_a22282d0aaf69497bdd46660ecf52ac9ca7bb0bf9e0e90e6d224f411d043fc03f2"><div class="ttname"><a href="a00122.html#a22282d0aaf69497bdd46660ecf52ac9ca7bb0bf9e0e90e6d224f411d043fc03f2">SPI_IO_DUAL</a></div><div class="ttdeci">@ SPI_IO_DUAL</div><div class="ttdef"><b>Definition</b> <a href="a00122_source.html#l00193">LibFT4222.h:193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a323ac93b2c405f79e30fd3a9c0864977" name="a323ac93b2c405f79e30fd3a9c0864977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323ac93b2c405f79e30fd3a9c0864977">&#9670;&#160;</a></span>wrBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00086.html#abb452686968e48b67397da5f97445f5b">bool</a> wrBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00198.html">EVE_HalContext</a> *</td>          <td class="paramname"><span class="paramname"><em>phost</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a block data to Coprocessor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phost</td><td>Pointer to Hal context </td></tr>
    <tr><td class="paramname">buffer</td><td>Data buffer to write </td></tr>
    <tr><td class="paramname">size</td><td>Size of buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true True if ok </dd>
<dd>
false False if error </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00689">689</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  690</span>{</div>
<div class="line"><span class="lineno">  691</span>    <a class="code hl_enumeration" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35">FT4222_STATUS</a> status;</div>
<div class="line"><span class="lineno">  692</span>    <span class="keywordflow">if</span> (size &amp; 3)</div>
<div class="line"><span class="lineno">  693</span>    {</div>
<div class="line"><span class="lineno">  694</span>        size = (size + 3) &amp; ~3UL;</div>
<div class="line"><span class="lineno">  695</span>        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Data size should be align to 4 bytes\n&quot;</span>);</div>
<div class="line"><span class="lineno">  696</span>    }</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span>    <span class="keywordflow">if</span> (buffer &amp;&amp; (size &lt; (<span class="keyword">sizeof</span>(phost-&gt;<a class="code hl_variable" href="a00198.html#abf9f5370252b77e7b21d116ce38a11f3">SpiWrBuf</a>) - phost-&gt;<a class="code hl_variable" href="a00198.html#ae38be80bc651abca8bb6dad85517000b">SpiWrBufIndex</a> - <a class="code hl_define" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>)))</div>
<div class="line"><span class="lineno">  699</span>    {</div>
<div class="line"><span class="lineno">  700</span>        <span class="comment">/* Write to buffer */</span></div>
<div class="line"><span class="lineno">  701</span>        memcpy(&amp;phost-&gt;<a class="code hl_variable" href="a00198.html#abf9f5370252b77e7b21d116ce38a11f3">SpiWrBuf</a>[phost-&gt;<a class="code hl_variable" href="a00198.html#ae38be80bc651abca8bb6dad85517000b">SpiWrBufIndex</a> + <a class="code hl_define" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>], buffer, size);</div>
<div class="line"><span class="lineno">  702</span>        phost-&gt;<a class="code hl_variable" href="a00198.html#ae38be80bc651abca8bb6dad85517000b">SpiWrBufIndex</a> += size;</div>
<div class="line"><span class="lineno">  703</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  704</span>    }</div>
<div class="line"><span class="lineno">  705</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  706</span>    {</div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">if</span> (buffer &amp;&amp; phost-&gt;<a class="code hl_variable" href="a00198.html#ae38be80bc651abca8bb6dad85517000b">SpiWrBufIndex</a>)</div>
<div class="line"><span class="lineno">  708</span>        {</div>
<div class="line"><span class="lineno">  709</span>            <span class="comment">/* Buffer is over size, flush now */</span></div>
<div class="line"><span class="lineno">  710</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="#afb74cba236df2fd69448d11f4e02d024">flush</a>(phost))</div>
<div class="line"><span class="lineno">  711</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>            <span class="comment">/* Write to buffer */</span></div>
<div class="line"><span class="lineno">  714</span>            <span class="keywordflow">if</span> (size &lt; (<span class="keyword">sizeof</span>(phost-&gt;<a class="code hl_variable" href="a00198.html#abf9f5370252b77e7b21d116ce38a11f3">SpiWrBuf</a>) - <a class="code hl_define" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>))</div>
<div class="line"><span class="lineno">  715</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="#a323ac93b2c405f79e30fd3a9c0864977">wrBuffer</a>(phost, buffer, size);</div>
<div class="line"><span class="lineno">  716</span>        }</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>        <span class="keywordflow">if</span> (buffer || phost-&gt;<a class="code hl_variable" href="a00198.html#ae38be80bc651abca8bb6dad85517000b">SpiWrBufIndex</a>)</div>
<div class="line"><span class="lineno">  719</span>        {</div>
<div class="line"><span class="lineno">  720</span>            <span class="comment">/* Flush now, or write oversize buffer */</span></div>
<div class="line"><span class="lineno">  721</span>            <a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> addr = phost-&gt;<a class="code hl_variable" href="a00198.html#a59906f64e8c5887616b0db4c30b33cb2">SpiRamGAddr</a>;</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>            <span class="keywordflow">if</span> (!buffer)</div>
<div class="line"><span class="lineno">  724</span>            {</div>
<div class="line"><span class="lineno">  725</span>                <span class="comment">/* Flushing */</span></div>
<div class="line"><span class="lineno">  726</span>                size = phost-&gt;<a class="code hl_variable" href="a00198.html#ae38be80bc651abca8bb6dad85517000b">SpiWrBufIndex</a>;</div>
<div class="line"><span class="lineno">  727</span>                phost-&gt;<a class="code hl_variable" href="a00198.html#ae38be80bc651abca8bb6dad85517000b">SpiWrBufIndex</a> = 0;</div>
<div class="line"><span class="lineno">  728</span>            }</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>            <span class="keywordflow">while</span> (size)</div>
<div class="line"><span class="lineno">  731</span>            {</div>
<div class="line"><span class="lineno">  732</span>                <a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> sizeTransferred;</div>
<div class="line"><span class="lineno">  733</span>                <a class="code hl_typedef" href="a00086.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> bytesPerWrite;</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>                <span class="keywordflow">if</span> (size &lt;= <a class="code hl_define" href="#a669679c3538c836690cfb93ed624844c">FT4222_WRITE_SIZE_MAX</a>)</div>
<div class="line"><span class="lineno">  736</span>                    bytesPerWrite = size + <a class="code hl_define" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>;</div>
<div class="line"><span class="lineno">  737</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  738</span>                    bytesPerWrite = <a class="code hl_define" href="#a738c4bc8c8e44d0effa10f2db12b303c">FT4222_TRANSFER_SIZE_MAX</a>;</div>
<div class="line"><span class="lineno">  739</span>                <span class="keywordflow">if</span> (bytesPerWrite &amp; 3)</div>
<div class="line"><span class="lineno">  740</span>                {</div>
<div class="line"><span class="lineno">  741</span>                    bytesPerWrite = (bytesPerWrite + 3) &amp; ~3UL;</div>
<div class="line"><span class="lineno">  742</span>                    <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;Data size should be align to 4 bytes\n&quot;</span>);</div>
<div class="line"><span class="lineno">  743</span>                }</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>                <span class="keywordflow">if</span> (buffer)</div>
<div class="line"><span class="lineno">  746</span>                {</div>
<div class="line"><span class="lineno">  747</span>                    <span class="comment">/* Writing large buffer */</span></div>
<div class="line"><span class="lineno">  748</span>                    memcpy(phost-&gt;<a class="code hl_variable" href="a00198.html#abf9f5370252b77e7b21d116ce38a11f3">SpiWrBuf</a> + <a class="code hl_define" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>, buffer, (bytesPerWrite - <a class="code hl_define" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>));</div>
<div class="line"><span class="lineno">  749</span>                }</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>                <span class="comment">/* Compose the HOST MEMORY WRITE packet */</span></div>
<div class="line"><span class="lineno">  752</span>                phost-&gt;<a class="code hl_variable" href="a00198.html#abf9f5370252b77e7b21d116ce38a11f3">SpiWrBuf</a>[0] = (addr &gt;&gt; 24) | 0x80; <span class="comment">/* MSB bits 10 for WRITE */</span></div>
<div class="line"><span class="lineno">  753</span>                phost-&gt;<a class="code hl_variable" href="a00198.html#abf9f5370252b77e7b21d116ce38a11f3">SpiWrBuf</a>[1] = (addr &gt;&gt; 16) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  754</span>                phost-&gt;<a class="code hl_variable" href="a00198.html#abf9f5370252b77e7b21d116ce38a11f3">SpiWrBuf</a>[2] = (addr &gt;&gt; 8) &amp; 0xFF;</div>
<div class="line"><span class="lineno">  755</span>                phost-&gt;<a class="code hl_variable" href="a00198.html#abf9f5370252b77e7b21d116ce38a11f3">SpiWrBuf</a>[3] = addr &amp; 0xFF;</div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>                <span class="keywordflow">if</span> (phost-&gt;<a class="code hl_variable" href="a00198.html#ac74537dc1b66428772d59c08934dd75d">SpiChannels</a> == <a class="code hl_enumvalue" href="a00056.html#a9b693d769c49b7fb4bf92d6cece8c1a1ab2054e64bd3b2575789721cbd3013505">EVE_SPI_SINGLE_CHANNEL</a>)</div>
<div class="line"><span class="lineno">  758</span>                {</div>
<div class="line"><span class="lineno">  759</span>                    <a class="code hl_typedef" href="a00086.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> sizeWritten;</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>                    status = <a class="code hl_function" href="a00122.html#aed7f937b6157ea1a542c99681c105873">FT4222_SPIMaster_SingleWrite</a>(</div>
<div class="line"><span class="lineno">  762</span>                        phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>,</div>
<div class="line"><span class="lineno">  763</span>                        phost-&gt;<a class="code hl_variable" href="a00198.html#abf9f5370252b77e7b21d116ce38a11f3">SpiWrBuf</a>,</div>
<div class="line"><span class="lineno">  764</span>                        bytesPerWrite,</div>
<div class="line"><span class="lineno">  765</span>                        &amp;sizeWritten,</div>
<div class="line"><span class="lineno">  766</span>                        <a class="code hl_define" href="a00128.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><span class="lineno">  767</span> </div>
<div class="line"><span class="lineno">  768</span>                    <span class="keywordflow">if</span> ((status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>) || (sizeWritten != bytesPerWrite))</div>
<div class="line"><span class="lineno">  769</span>                    {</div>
<div class="line"><span class="lineno">  770</span>                        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;%d FT4222_SPIMaster_SingleWrite failed, sizeTransferred is %d with status %d\n&quot;</span>, __LINE__, sizeWritten, status);</div>
<div class="line"><span class="lineno">  771</span>                        <span class="keywordflow">if</span> (sizeWritten != bytesPerWrite)</div>
<div class="line"><span class="lineno">  772</span>                            phost-&gt;<a class="code hl_variable" href="a00198.html#ae804ad019fda9cee443257f08613d032">Status</a> = <a class="code hl_enumvalue" href="a00068.html#a0b522eda2f71f75e89a78ef13ac15571ade672f60908477052ed1b71e1a6c9a32">EVE_STATUS_ERROR</a>;</div>
<div class="line"><span class="lineno">  773</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  774</span>                    }</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>                    sizeTransferred = sizeWritten;</div>
<div class="line"><span class="lineno">  777</span>                }</div>
<div class="line"><span class="lineno">  778</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  779</span>                {</div>
<div class="line"><span class="lineno">  780</span>                    <a class="code hl_typedef" href="a00086.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> dummyRead[8];</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>                    status = <a class="code hl_function" href="a00122.html#a94d0e38dc635120ceae66e295cb5beff">FT4222_SPIMaster_MultiReadWrite</a>(</div>
<div class="line"><span class="lineno">  783</span>                        phost-&gt;<a class="code hl_variable" href="a00198.html#a65abc40d6f2b248bc0e7561e6bca7a07">SpiHandle</a>,</div>
<div class="line"><span class="lineno">  784</span>                        dummyRead,</div>
<div class="line"><span class="lineno">  785</span>                        phost-&gt;<a class="code hl_variable" href="a00198.html#abf9f5370252b77e7b21d116ce38a11f3">SpiWrBuf</a>,</div>
<div class="line"><span class="lineno">  786</span>                        0,</div>
<div class="line"><span class="lineno">  787</span>                        bytesPerWrite,</div>
<div class="line"><span class="lineno">  788</span>                        0,</div>
<div class="line"><span class="lineno">  789</span>                        &amp;sizeTransferred);</div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span>                    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="a00122.html#a211ebf62f4a6ec39f19d39b3fce19f35adc90c9ee3e4e67ddf142e1118ad91927">FT4222_OK</a>)</div>
<div class="line"><span class="lineno">  792</span>                    {</div>
<div class="line"><span class="lineno">  793</span>                        <a class="code hl_define" href="a00101.html#a28083a8dae14ceaa58b80efbbc6266df">eve_printf_debug</a>(<span class="stringliteral">&quot;FT4222_SPIMaster_MultiReadWrite failed, status %d\n&quot;</span>, status);</div>
<div class="line"><span class="lineno">  794</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  795</span>                    }</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>                    sizeTransferred = bytesPerWrite;</div>
<div class="line"><span class="lineno">  798</span>                }</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>                <span class="keywordflow">if</span> (buffer)</div>
<div class="line"><span class="lineno">  801</span>                {</div>
<div class="line"><span class="lineno">  802</span>                    buffer += sizeTransferred - <a class="code hl_define" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>;</div>
<div class="line"><span class="lineno">  803</span>                }</div>
<div class="line"><span class="lineno">  804</span>                <span class="keywordflow">if</span> (size)</div>
<div class="line"><span class="lineno">  805</span>                {</div>
<div class="line"><span class="lineno">  806</span>                    <a class="code hl_define" href="a00101.html#a631b0f9326ca147de966e04d3a3061de">eve_assert_ex</a>((sizeTransferred - <a class="code hl_define" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>) &lt;= (<a class="code hl_typedef" href="a00086.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a>)size, <span class="stringliteral">&quot;Cannot have transferred more than size\n&quot;</span>);</div>
<div class="line"><span class="lineno">  807</span>                    size -= sizeTransferred - <a class="code hl_define" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>;</div>
<div class="line"><span class="lineno">  808</span>                    <span class="comment">// eve_assert_ex(!(buffer &amp;&amp; size), &quot;Cannot have space left after flushing buffer\n&quot;);</span></div>
<div class="line"><span class="lineno">  809</span>                }</div>
<div class="line"><span class="lineno">  810</span> </div>
<div class="line"><span class="lineno">  811</span>                addr = <a class="code hl_function" href="#a5ce4c3c0101e945f306d5dae105988ae">incrementRamGAddr</a>(phost, addr, (sizeTransferred - <a class="code hl_define" href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a>));</div>
<div class="line"><span class="lineno">  812</span>                phost-&gt;<a class="code hl_variable" href="a00198.html#a59906f64e8c5887616b0db4c30b33cb2">SpiRamGAddr</a> = addr;</div>
<div class="line"><span class="lineno">  813</span>            }</div>
<div class="line"><span class="lineno">  814</span>        }</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  817</span>    }</div>
<div class="line"><span class="lineno">  818</span>}</div>
<div class="ttc" id="aa00074_html_a08c73bb9ced2e87d06bc370e4b7f8a79"><div class="ttname"><a href="#a08c73bb9ced2e87d06bc370e4b7f8a79">FT4222_WRITE_HEADER_SIZE</a></div><div class="ttdeci">#define FT4222_WRITE_HEADER_SIZE</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00036">EVE_HalImpl_FT4222.c:36</a></div></div>
<div class="ttc" id="aa00074_html_a669679c3538c836690cfb93ed624844c"><div class="ttname"><a href="#a669679c3538c836690cfb93ed624844c">FT4222_WRITE_SIZE_MAX</a></div><div class="ttdeci">#define FT4222_WRITE_SIZE_MAX</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00037">EVE_HalImpl_FT4222.c:37</a></div></div>
<div class="ttc" id="aa00074_html_a738c4bc8c8e44d0effa10f2db12b303c"><div class="ttname"><a href="#a738c4bc8c8e44d0effa10f2db12b303c">FT4222_TRANSFER_SIZE_MAX</a></div><div class="ttdeci">#define FT4222_TRANSFER_SIZE_MAX</div><div class="ttdef"><b>Definition</b> <a href="a00074_source.html#l00035">EVE_HalImpl_FT4222.c:35</a></div></div>
<div class="ttc" id="aa00198_html_abf9f5370252b77e7b21d116ce38a11f3"><div class="ttname"><a href="a00198.html#abf9f5370252b77e7b21d116ce38a11f3">EVE_HalContext::SpiWrBuf</a></div><div class="ttdeci">uint8_t SpiWrBuf[65536]</div><div class="ttdef"><b>Definition</b> <a href="a00068_source.html#l00241">EVE_HalDefs.h:241</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="a9b2e046e3c9a655e83cee86a84f145ea" name="a9b2e046e3c9a655e83cee86a84f145ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b2e046e3c9a655e83cee86a84f145ea">&#9670;&#160;</a></span>s_NumDevsD2XX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00128.html#a798af1e30bc65f319c1a246cecf59e39">DWORD</a> s_NumDevsD2XX</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a00074_source.html#l00048">48</a> of file <a class="el" href="a00074_source.html">EVE_HalImpl_FT4222.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a href="dir_7d7f499be83b400157504a134bf2709c.html">eve_hal</a></li><li class="navelem"><a href="a00074.html">EVE_HalImpl_FT4222.c</a></li>
    <div align="right">
    Copyright © Bridgetek Pte Ltd  
    </div>  
  </ul>
</div>
</body>
</html>
